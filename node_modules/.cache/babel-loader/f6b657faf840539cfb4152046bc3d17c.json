{"ast":null,"code":"import _regeneratorRuntime from\"D:/ReactProjetos/alganews-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/ReactProjetos/alganews-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/ReactProjetos/alganews-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{UserService}from'danielbonifacio-sdk';import{ResourceNotFoundError}from'danielbonifacio-sdk/dist/errors';import{useCallback,useState}from'react';export default function useUser(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),notFound=_useState4[0],setNotFound=_useState4[1];var fetchUser=useCallback(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(userId){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return UserService.getDetailedUser(userId).then(setUser);case 3:_context.next=12;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);if(!(_context.t0 instanceof ResourceNotFoundError)){_context.next=11;break;}setNotFound(true);_context.next=12;break;case 11:throw _context.t0;case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return function(_x){return _ref.apply(this,arguments);};}(),[]);var toggleUserStatus=useCallback(function(user){return user.active?UserService.deactivateExistingUser(user.id):UserService.activateExistingUser(user.id);},[]);return{user:user,fetchUser:fetchUser,notFound:notFound,toggleUserStatus:toggleUserStatus};}","map":{"version":3,"sources":["D:/ReactProjetos/alganews-admin/src/core/hooks/useUser.ts"],"names":["UserService","ResourceNotFoundError","useCallback","useState","useUser","user","setUser","notFound","setNotFound","fetchUser","userId","getDetailedUser","then","toggleUserStatus","active","deactivateExistingUser","id","activateExistingUser"],"mappings":"+bAAA,OAAeA,WAAf,KAAkC,qBAAlC,CACA,OAASC,qBAAT,KAAsC,iCAAtC,CACA,OAASC,WAAT,CAAsBC,QAAtB,KAAsC,OAAtC,CAEA,cAAe,SAASC,CAAAA,OAAT,EAAmB,eACRD,QAAQ,EADA,wCACzBE,IADyB,eACnBC,OADmB,8BAEAH,QAAQ,CAAC,KAAD,CAFR,yCAEzBI,QAFyB,eAEfC,WAFe,eAIhC,GAAMC,CAAAA,SAAS,CAAGP,WAAW,0FAAC,iBAAOQ,MAAP,wJAEpBV,CAAAA,WAAW,CAACW,eAAZ,CAA4BD,MAA5B,EAAoCE,IAApC,CACJN,OADI,CAFoB,4FAMtB,sBAAiBL,CAAAA,qBANK,2BAOxBO,WAAW,CAAC,IAAD,CAAX,CAPwB,qHAAD,+DAY1B,EAZ0B,CAA7B,CAcA,GAAMK,CAAAA,gBAAgB,CAAGX,WAAW,CAClC,SAACG,IAAD,CAAwC,CACtC,MAAOA,CAAAA,IAAI,CAACS,MAAL,CACHd,WAAW,CAACe,sBAAZ,CAAmCV,IAAI,CAACW,EAAxC,CADG,CAEHhB,WAAW,CAACiB,oBAAZ,CAAiCZ,IAAI,CAACW,EAAtC,CAFJ,CAGD,CALiC,CAMlC,EANkC,CAApC,CASA,MAAO,CACLX,IAAI,CAAJA,IADK,CAELI,SAAS,CAATA,SAFK,CAGLF,QAAQ,CAARA,QAHK,CAILM,gBAAgB,CAAhBA,gBAJK,CAAP,CAMD","sourcesContent":["import { User, UserService } from 'danielbonifacio-sdk';\nimport { ResourceNotFoundError } from 'danielbonifacio-sdk/dist/errors';\nimport { useCallback, useState } from 'react';\n\nexport default function useUser() {\n  const [user, setUser] = useState<User.Detailed>();\n  const [notFound, setNotFound] = useState(false);\n\n  const fetchUser = useCallback(async (userId: number) => {\n    try {\n      await UserService.getDetailedUser(userId).then(\n        setUser\n      );\n    } catch (error) {\n      if (error instanceof ResourceNotFoundError) {\n        setNotFound(true);\n      } else {\n        throw error;\n      }\n    }\n  }, []);\n\n  const toggleUserStatus = useCallback(\n    (user: User.Summary | User.Detailed) => {\n      return user.active\n        ? UserService.deactivateExistingUser(user.id)\n        : UserService.activateExistingUser(user.id);\n    },\n    []\n  );\n\n  return {\n    user,\n    fetchUser,\n    notFound,\n    toggleUserStatus,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}