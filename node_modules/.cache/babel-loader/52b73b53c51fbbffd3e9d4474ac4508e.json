{"ast":null,"code":"import _objectSpread from\"D:/ReactProjetos/alganews-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/ReactProjetos/alganews-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Button,Space,Switch,Table,Tag,Avatar,Card,Input,Descriptions,Tooltip,Row}from'antd';import format from'date-fns/format';import parseISO from'date-fns/parseISO';import{useEffect,useState}from'react';import useUsers from'../../core/hooks/useUsers';import{EyeOutlined,EditOutlined,SearchOutlined,ReloadOutlined}from'@ant-design/icons';import{Link}from'react-router-dom';import Forbidden from'../components/Forbidden';import{useCallback}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function UserList(){var _useUsers=useUsers(),users=_useUsers.users,fetchUsers=_useUsers.fetchUsers,toggleUserStatus=_useUsers.toggleUserStatus,fetching=_useUsers.fetching;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),forbidden=_useState2[0],setForbidden=_useState2[1];var _fetchUsers=useCallback(function(){fetchUsers().catch(function(err){var _err$data;if((err===null||err===void 0?void 0:(_err$data=err.data)===null||_err$data===void 0?void 0:_err$data.status)===403){setForbidden(true);return;}throw err;});},[fetchUsers]);useEffect(function(){_fetchUsers();},[_fetchUsers]);var getColumnSearchProps=function getColumnSearchProps(dataIndex,displayName){return{filterDropdown:function filterDropdown(_ref){var selectedKeys=_ref.selectedKeys,setSelectedKeys=_ref.setSelectedKeys,confirm=_ref.confirm,clearFilters=_ref.clearFilters;return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Input,{style:{marginBottom:8,display:'block'},value:selectedKeys[0],placeholder:\"Buscar \".concat(displayName||dataIndex),onChange:function onChange(e){setSelectedKeys(e.target.value?[e.target.value]:[]);},onPressEnter:function onPressEnter(){return confirm();}}),/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{type:'primary',size:'small',style:{width:90},onClick:function onClick(){return confirm();},icon:/*#__PURE__*/_jsx(SearchOutlined,{}),children:\"Buscar\"}),/*#__PURE__*/_jsx(Button,{onClick:clearFilters,size:'small',style:{width:90},children:\"Limpar\"})]})]});},filterIcon:function filterIcon(filtered){return/*#__PURE__*/_jsx(SearchOutlined,{style:{color:filtered?'#0099ff':undefined}});},// @ts-ignore\nonFilter:function onFilter(value,record){return record[dataIndex]?record[dataIndex].toString().toLowerCase().includes(value.toLowerCase()):'';}};};if(forbidden)return/*#__PURE__*/_jsx(Forbidden,{});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Row,{justify:\"end\",children:/*#__PURE__*/_jsx(Button,{onClick:_fetchUsers,loading:fetching,icon:/*#__PURE__*/_jsx(ReloadOutlined,{}),children:\"Atualizar\"})}),/*#__PURE__*/_jsx(Table,{loading:fetching,dataSource:users,pagination:false,rowKey:'id',columns:[{title:'Usuários',responsive:['xs'],render:function render(user){return/*#__PURE__*/_jsxs(Descriptions,{column:1,size:'small',children:[/*#__PURE__*/_jsx(Descriptions.Item,{label:'Nome',children:user.name}),/*#__PURE__*/_jsx(Descriptions.Item,{label:'Email',children:user.email}),/*#__PURE__*/_jsx(Descriptions.Item,{label:'Criação',children:format(parseISO(user.createdAt),'dd/MM/yyyy')}),/*#__PURE__*/_jsx(Descriptions.Item,{label:'Perfil',children:/*#__PURE__*/_jsx(Tag,{color:user.role==='MANAGER'?'red':'blue',children:user.role==='EDITOR'?'Editor':user.role==='MANAGER'?'Gerente':'Assistente'})}),/*#__PURE__*/_jsxs(Descriptions.Item,{label:'Ações',children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Visualizar usu\\xE1rio\",children:/*#__PURE__*/_jsx(Link,{to:\"/usuarios/\".concat(user.id),children:/*#__PURE__*/_jsx(Button,{size:\"small\",icon:/*#__PURE__*/_jsx(EyeOutlined,{})})})}),/*#__PURE__*/_jsx(Tooltip,{title:'Editar usuário',children:/*#__PURE__*/_jsx(Link,{to:\"/usuarios/edicao/\".concat(user.id),children:/*#__PURE__*/_jsx(Button,{size:\"small\",icon:/*#__PURE__*/_jsx(EditOutlined,{})})})})]})]});}},{dataIndex:'avatarUrls',title:'',width:48,fixed:'left',responsive:['sm'],render:function render(avatarUrls){return/*#__PURE__*/_jsx(Avatar,{size:'small',src:avatarUrls.small});}},_objectSpread(_objectSpread({dataIndex:'name',title:'Nome'},getColumnSearchProps('name','nome')),{},{width:160,responsive:['sm'],ellipsis:true}),_objectSpread({dataIndex:'email',title:'Email',responsive:['md'],ellipsis:true,width:240},getColumnSearchProps('email','Email')),{dataIndex:'role',title:'Perfil',align:'center',responsive:['sm'],width:100,sorter:function sorter(a,b){return a.role.localeCompare(b.role);},render:function render(role){return/*#__PURE__*/_jsx(Tag,{color:role==='MANAGER'?'red':'blue',children:role==='EDITOR'?'Editor':role==='MANAGER'?'Gerente':'Assistente'});}},{dataIndex:'createdAt',title:'Criação',align:'center',responsive:['lg'],sorter:function sorter(a,b){return new Date(a.createdAt)>new Date(b.createdAt)?1:-1;},width:120,render:function render(createdAt){return format(parseISO(createdAt),'dd/MM/yyyy');}},{dataIndex:'active',title:'Ativo',align:'center',width:100,responsive:['sm'],render:function render(active,user){return/*#__PURE__*/_jsx(Switch,{disabled:active&&!user.canBeDeactivated||!active&&!user.canBeActivated,onChange:function onChange(){toggleUserStatus(user);},checked:active});}},{dataIndex:'id',title:'Ações',align:'center',width:100,responsive:['sm'],render:function render(id){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Tooltip,{title:'Visualizar usuário',placement:'left',children:/*#__PURE__*/_jsx(Link,{to:\"/usuarios/\".concat(id),children:/*#__PURE__*/_jsx(Button,{size:\"small\",icon:/*#__PURE__*/_jsx(EyeOutlined,{})})})}),/*#__PURE__*/_jsx(Tooltip,{title:'Editar usuario',placement:'right',children:/*#__PURE__*/_jsx(Link,{to:\"/usuarios/edicao/\".concat(id),children:/*#__PURE__*/_jsx(Button,{size:\"small\",icon:/*#__PURE__*/_jsx(EditOutlined,{})})})})]});}}]})]});}","map":{"version":3,"sources":["D:/ReactProjetos/alganews-admin/src/app/features/UserList.tsx"],"names":["Button","Space","Switch","Table","Tag","Avatar","Card","Input","Descriptions","Tooltip","Row","format","parseISO","useEffect","useState","useUsers","EyeOutlined","EditOutlined","SearchOutlined","ReloadOutlined","Link","Forbidden","useCallback","UserList","users","fetchUsers","toggleUserStatus","fetching","forbidden","setForbidden","_fetchUsers","catch","err","data","status","getColumnSearchProps","dataIndex","displayName","filterDropdown","selectedKeys","setSelectedKeys","confirm","clearFilters","marginBottom","display","e","target","value","width","filterIcon","filtered","color","undefined","onFilter","record","toString","toLowerCase","includes","title","responsive","render","user","name","email","createdAt","role","id","fixed","avatarUrls","small","ellipsis","align","sorter","a","b","localeCompare","Date","active","canBeDeactivated","canBeActivated"],"mappings":"2SAAA,OACEA,MADF,CAEEC,KAFF,CAGEC,MAHF,CAIEC,KAJF,CAKEC,GALF,CAMEC,MANF,CAOEC,IAPF,CAQEC,KARF,CASEC,YATF,CAUEC,OAVF,CAWEC,GAXF,KAYO,MAZP,CAcA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,mBAArB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,QAAP,KAAqB,2BAArB,CACA,OACEC,WADF,CAEEC,YAFF,CAGEC,cAHF,CAIEC,cAJF,KAKO,mBALP,CAOA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,OAASC,WAAT,KAA4B,OAA5B,C,6IAEA,cAAe,SAASC,CAAAA,QAAT,EAAoB,eACyBR,QAAQ,EADjC,CACzBS,KADyB,WACzBA,KADyB,CAClBC,UADkB,WAClBA,UADkB,CACNC,gBADM,WACNA,gBADM,CACYC,QADZ,WACYA,QADZ,eAGCb,QAAQ,CAAC,KAAD,CAHT,wCAG1Bc,SAH0B,eAGfC,YAHe,eAKjC,GAAMC,CAAAA,WAAW,CAAGR,WAAW,CAAC,UAAM,CACpCG,UAAU,GAAGM,KAAb,CAAmB,SAACC,GAAD,CAAS,eAC1B,GAAI,CAAAA,GAAG,OAAH,EAAAA,GAAG,SAAH,mBAAAA,GAAG,CAAEC,IAAL,8CAAWC,MAAX,IAAsB,GAA1B,CAA+B,CAC7BL,YAAY,CAAC,IAAD,CAAZ,CACA,OACD,CACD,KAAMG,CAAAA,GAAN,CACD,CAND,EAOD,CAR8B,CAQ5B,CAACP,UAAD,CAR4B,CAA/B,CAUAZ,SAAS,CAAC,UAAM,CACdiB,WAAW,GACZ,CAFQ,CAEN,CAACA,WAAD,CAFM,CAAT,CAIA,GAAMK,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAC3BC,SAD2B,CAE3BC,WAF2B,QAGI,CAC/BC,cAAc,CAAE,iCACdC,CAAAA,YADc,MACdA,YADc,CAEdC,eAFc,MAEdA,eAFc,CAGdC,OAHc,MAGdA,OAHc,CAIdC,YAJc,MAIdA,YAJc,oBAMd,MAAC,IAAD,yBACE,KAAC,KAAD,EACE,KAAK,CAAE,CAAEC,YAAY,CAAE,CAAhB,CAAmBC,OAAO,CAAE,OAA5B,CADT,CAEE,KAAK,CAAEL,YAAY,CAAC,CAAD,CAFrB,CAGE,WAAW,kBAAYF,WAAW,EAAID,SAA3B,CAHb,CAIE,QAAQ,CAAE,kBAACS,CAAD,CAAO,CACfL,eAAe,CAACK,CAAC,CAACC,MAAF,CAASC,KAAT,CAAiB,CAACF,CAAC,CAACC,MAAF,CAASC,KAAV,CAAjB,CAAoC,EAArC,CAAf,CACD,CANH,CAOE,YAAY,CAAE,8BAAMN,CAAAA,OAAO,EAAb,EAPhB,EADF,cAUE,MAAC,KAAD,yBACE,KAAC,MAAD,EACE,IAAI,CAAE,SADR,CAEE,IAAI,CAAE,OAFR,CAGE,KAAK,CAAE,CAAEO,KAAK,CAAE,EAAT,CAHT,CAIE,OAAO,CAAE,yBAAMP,CAAAA,OAAO,EAAb,EAJX,CAKE,IAAI,cAAE,KAAC,cAAD,IALR,oBADF,cAUE,KAAC,MAAD,EAAQ,OAAO,CAAEC,YAAjB,CAA+B,IAAI,CAAE,OAArC,CAA8C,KAAK,CAAE,CAAEM,KAAK,CAAE,EAAT,CAArD,oBAVF,GAVF,GANc,EADe,CAiC/BC,UAAU,CAAE,oBAACC,QAAD,qBACV,KAAC,cAAD,EAAgB,KAAK,CAAE,CAAEC,KAAK,CAAED,QAAQ,CAAG,SAAH,CAAeE,SAAhC,CAAvB,EADU,EAjCmB,CAoC/B;AACAC,QAAQ,CAAE,kBAACN,KAAD,CAAQO,MAAR,QACRA,CAAAA,MAAM,CAAClB,SAAD,CAAN,CACIkB,MAAM,CAAClB,SAAD,CAAN,CACGmB,QADH,GAEGC,WAFH,GAGGC,QAHH,CAGaV,KAAD,CAAkBS,WAAlB,EAHZ,CADJ,CAKI,EANI,EArCqB,CAHJ,EAA7B,CAiDA,GAAI5B,SAAJ,CAAe,mBAAO,KAAC,SAAD,IAAP,CAEf,mBACE,wCACE,KAAC,GAAD,EAAK,OAAO,CAAC,KAAb,uBACE,KAAC,MAAD,EACE,OAAO,CAAEE,WADX,CAEE,OAAO,CAAEH,QAFX,CAGE,IAAI,cAAE,KAAC,cAAD,IAHR,uBADF,EADF,cAUE,KAAC,KAAD,EACE,OAAO,CAAEA,QADX,CAEE,UAAU,CAAEH,KAFd,CAGE,UAAU,CAAE,KAHd,CAIE,MAAM,CAAE,IAJV,CAKE,OAAO,CAAE,CACP,CACEkC,KAAK,CAAE,UADT,CAEEC,UAAU,CAAE,CAAC,IAAD,CAFd,CAGEC,MAHF,iBAGSC,IAHT,CAG6B,CACzB,mBACE,MAAC,YAAD,EAAc,MAAM,CAAE,CAAtB,CAAyB,IAAI,CAAE,OAA/B,wBACE,KAAC,YAAD,CAAc,IAAd,EAAmB,KAAK,CAAE,MAA1B,UACGA,IAAI,CAACC,IADR,EADF,cAIE,KAAC,YAAD,CAAc,IAAd,EAAmB,KAAK,CAAE,OAA1B,UACGD,IAAI,CAACE,KADR,EAJF,cAOE,KAAC,YAAD,CAAc,IAAd,EAAmB,KAAK,CAAE,SAA1B,UACGpD,MAAM,CAACC,QAAQ,CAACiD,IAAI,CAACG,SAAN,CAAT,CAA2B,YAA3B,CADT,EAPF,cAUE,KAAC,YAAD,CAAc,IAAd,EAAmB,KAAK,CAAE,QAA1B,uBACE,KAAC,GAAD,EAAK,KAAK,CAAEH,IAAI,CAACI,IAAL,GAAc,SAAd,CAA0B,KAA1B,CAAkC,MAA9C,UACGJ,IAAI,CAACI,IAAL,GAAc,QAAd,CACG,QADH,CAEGJ,IAAI,CAACI,IAAL,GAAc,SAAd,CACA,SADA,CAEA,YALN,EADF,EAVF,cAmBE,MAAC,YAAD,CAAc,IAAd,EAAmB,KAAK,CAAE,OAA1B,wBACE,KAAC,OAAD,EAAS,KAAK,CAAC,uBAAf,uBACE,KAAC,IAAD,EAAM,EAAE,qBAAeJ,IAAI,CAACK,EAApB,CAAR,uBACE,KAAC,MAAD,EAAQ,IAAI,CAAC,OAAb,CAAqB,IAAI,cAAE,KAAC,WAAD,IAA3B,EADF,EADF,EADF,cAME,KAAC,OAAD,EAAS,KAAK,CAAE,gBAAhB,uBACE,KAAC,IAAD,EAAM,EAAE,4BAAsBL,IAAI,CAACK,EAA3B,CAAR,uBACE,KAAC,MAAD,EAAQ,IAAI,CAAC,OAAb,CAAqB,IAAI,cAAE,KAAC,YAAD,IAA3B,EADF,EADF,EANF,GAnBF,GADF,CAkCD,CAtCH,CADO,CAyCP,CACE9B,SAAS,CAAE,YADb,CAEEsB,KAAK,CAAE,EAFT,CAGEV,KAAK,CAAE,EAHT,CAIEmB,KAAK,CAAE,MAJT,CAKER,UAAU,CAAE,CAAC,IAAD,CALd,CAMEC,MANF,iBAMSQ,UANT,CAMiD,CAC7C,mBAAO,KAAC,MAAD,EAAQ,IAAI,CAAE,OAAd,CAAuB,GAAG,CAAEA,UAAU,CAACC,KAAvC,EAAP,CACD,CARH,CAzCO,8BAoDLjC,SAAS,CAAE,MApDN,CAqDLsB,KAAK,CAAE,MArDF,EAsDFvB,oBAAoB,CAAC,MAAD,CAAS,MAAT,CAtDlB,MAuDLa,KAAK,CAAE,GAvDF,CAwDLW,UAAU,CAAE,CAAC,IAAD,CAxDP,CAyDLW,QAAQ,CAAE,IAzDL,kBA4DLlC,SAAS,CAAE,OA5DN,CA6DLsB,KAAK,CAAE,OA7DF,CA8DLC,UAAU,CAAE,CAAC,IAAD,CA9DP,CA+DLW,QAAQ,CAAE,IA/DL,CAgELtB,KAAK,CAAE,GAhEF,EAiEFb,oBAAoB,CAAC,OAAD,CAAU,OAAV,CAjElB,EAmEP,CACEC,SAAS,CAAE,MADb,CAEEsB,KAAK,CAAE,QAFT,CAGEa,KAAK,CAAE,QAHT,CAIEZ,UAAU,CAAE,CAAC,IAAD,CAJd,CAKEX,KAAK,CAAE,GALT,CAMEwB,MANF,iBAMSC,CANT,CAMYC,CANZ,CAMe,CACX,MAAOD,CAAAA,CAAC,CAACR,IAAF,CAAOU,aAAP,CAAqBD,CAAC,CAACT,IAAvB,CAAP,CACD,CARH,CASEL,MATF,iBASSK,IATT,CASe,CACX,mBACE,KAAC,GAAD,EAAK,KAAK,CAAEA,IAAI,GAAK,SAAT,CAAqB,KAArB,CAA6B,MAAzC,UACGA,IAAI,GAAK,QAAT,CACG,QADH,CAEGA,IAAI,GAAK,SAAT,CACA,SADA,CAEA,YALN,EADF,CASD,CAnBH,CAnEO,CAwFP,CACE7B,SAAS,CAAE,WADb,CAEEsB,KAAK,CAAE,SAFT,CAGEa,KAAK,CAAE,QAHT,CAIEZ,UAAU,CAAE,CAAC,IAAD,CAJd,CAKEa,MALF,iBAKSC,CALT,CAKYC,CALZ,CAKe,CACX,MAAO,IAAIE,CAAAA,IAAJ,CAASH,CAAC,CAACT,SAAX,EAAwB,GAAIY,CAAAA,IAAJ,CAASF,CAAC,CAACV,SAAX,CAAxB,CAAgD,CAAhD,CAAoD,CAAC,CAA5D,CACD,CAPH,CAQEhB,KAAK,CAAE,GART,CASEY,MATF,iBASSI,SATT,CAS4B,CACxB,MAAOrD,CAAAA,MAAM,CAACC,QAAQ,CAACoD,SAAD,CAAT,CAAsB,YAAtB,CAAb,CACD,CAXH,CAxFO,CAqGP,CACE5B,SAAS,CAAE,QADb,CAEEsB,KAAK,CAAE,OAFT,CAGEa,KAAK,CAAE,QAHT,CAIEvB,KAAK,CAAE,GAJT,CAKEW,UAAU,CAAE,CAAC,IAAD,CALd,CAMEC,MANF,iBAMSiB,MANT,CAM0BhB,IAN1B,CAMgC,CAC5B,mBACE,KAAC,MAAD,EACE,QAAQ,CACLgB,MAAM,EAAI,CAAChB,IAAI,CAACiB,gBAAjB,EACC,CAACD,MAAD,EAAW,CAAChB,IAAI,CAACkB,cAHtB,CAKE,QAAQ,CAAE,mBAAM,CACdrD,gBAAgB,CAACmC,IAAD,CAAhB,CACD,CAPH,CAQE,OAAO,CAAEgB,MARX,EADF,CAYD,CAnBH,CArGO,CA0HP,CACEzC,SAAS,CAAE,IADb,CAEEsB,KAAK,CAAE,OAFT,CAGEa,KAAK,CAAE,QAHT,CAIEvB,KAAK,CAAE,GAJT,CAKEW,UAAU,CAAE,CAAC,IAAD,CALd,CAMEC,MANF,iBAMSM,EANT,CAMqB,CACjB,mBACE,wCACE,KAAC,OAAD,EAAS,KAAK,CAAE,oBAAhB,CAAsC,SAAS,CAAE,MAAjD,uBACE,KAAC,IAAD,EAAM,EAAE,qBAAeA,EAAf,CAAR,uBACE,KAAC,MAAD,EAAQ,IAAI,CAAC,OAAb,CAAqB,IAAI,cAAE,KAAC,WAAD,IAA3B,EADF,EADF,EADF,cAME,KAAC,OAAD,EAAS,KAAK,CAAE,gBAAhB,CAAkC,SAAS,CAAE,OAA7C,uBACE,KAAC,IAAD,EAAM,EAAE,4BAAsBA,EAAtB,CAAR,uBACE,KAAC,MAAD,EAAQ,IAAI,CAAC,OAAb,CAAqB,IAAI,cAAE,KAAC,YAAD,IAA3B,EADF,EADF,EANF,GADF,CAcD,CArBH,CA1HO,CALX,EAVF,GADF,CAqKD","sourcesContent":["import {\n  Button,\n  Space,\n  Switch,\n  Table,\n  Tag,\n  Avatar,\n  Card,\n  Input,\n  Descriptions,\n  Tooltip,\n  Row,\n} from 'antd';\nimport { User } from 'danielbonifacio-sdk';\nimport format from 'date-fns/format';\nimport parseISO from 'date-fns/parseISO';\nimport { useEffect, useState } from 'react';\nimport useUsers from '../../core/hooks/useUsers';\nimport {\n  EyeOutlined,\n  EditOutlined,\n  SearchOutlined,\n  ReloadOutlined,\n} from '@ant-design/icons';\nimport { ColumnProps } from 'antd/lib/table';\nimport { Link } from 'react-router-dom';\nimport Forbidden from '../components/Forbidden';\nimport { useCallback } from 'react';\n\nexport default function UserList() {\n  const { users, fetchUsers, toggleUserStatus, fetching } = useUsers();\n\n  const [forbidden, setForbidden] = useState(false);\n\n  const _fetchUsers = useCallback(() => {\n    fetchUsers().catch((err) => {\n      if (err?.data?.status === 403) {\n        setForbidden(true);\n        return;\n      }\n      throw err;\n    });\n  }, [fetchUsers]);\n\n  useEffect(() => {\n    _fetchUsers();\n  }, [_fetchUsers]);\n\n  const getColumnSearchProps = (\n    dataIndex: keyof User.Summary,\n    displayName?: string\n  ): ColumnProps<User.Summary> => ({\n    filterDropdown: ({\n      selectedKeys,\n      setSelectedKeys,\n      confirm,\n      clearFilters,\n    }) => (\n      <Card>\n        <Input\n          style={{ marginBottom: 8, display: 'block' }}\n          value={selectedKeys[0]}\n          placeholder={`Buscar ${displayName || dataIndex}`}\n          onChange={(e) => {\n            setSelectedKeys(e.target.value ? [e.target.value] : []);\n          }}\n          onPressEnter={() => confirm()}\n        />\n        <Space>\n          <Button\n            type={'primary'}\n            size={'small'}\n            style={{ width: 90 }}\n            onClick={() => confirm()}\n            icon={<SearchOutlined />}\n          >\n            Buscar\n          </Button>\n          <Button onClick={clearFilters} size={'small'} style={{ width: 90 }}>\n            Limpar\n          </Button>\n        </Space>\n      </Card>\n    ),\n    filterIcon: (filtered: boolean) => (\n      <SearchOutlined style={{ color: filtered ? '#0099ff' : undefined }} />\n    ),\n    // @ts-ignore\n    onFilter: (value, record) =>\n      record[dataIndex]\n        ? record[dataIndex]\n            .toString()\n            .toLowerCase()\n            .includes((value as string).toLowerCase())\n        : '',\n  });\n\n  if (forbidden) return <Forbidden />;\n\n  return (\n    <>\n      <Row justify='end'>\n        <Button\n          onClick={_fetchUsers}\n          loading={fetching}\n          icon={<ReloadOutlined />}\n        >\n          Atualizar\n        </Button>\n      </Row>\n      <Table<User.Summary>\n        loading={fetching}\n        dataSource={users}\n        pagination={false}\n        rowKey={'id'}\n        columns={[\n          {\n            title: 'Usuários',\n            responsive: ['xs'],\n            render(user: User.Summary) {\n              return (\n                <Descriptions column={1} size={'small'}>\n                  <Descriptions.Item label={'Nome'}>\n                    {user.name}\n                  </Descriptions.Item>\n                  <Descriptions.Item label={'Email'}>\n                    {user.email}\n                  </Descriptions.Item>\n                  <Descriptions.Item label={'Criação'}>\n                    {format(parseISO(user.createdAt), 'dd/MM/yyyy')}\n                  </Descriptions.Item>\n                  <Descriptions.Item label={'Perfil'}>\n                    <Tag color={user.role === 'MANAGER' ? 'red' : 'blue'}>\n                      {user.role === 'EDITOR'\n                        ? 'Editor'\n                        : user.role === 'MANAGER'\n                        ? 'Gerente'\n                        : 'Assistente'}\n                    </Tag>\n                  </Descriptions.Item>\n                  <Descriptions.Item label={'Ações'}>\n                    <Tooltip title='Visualizar usuário'>\n                      <Link to={`/usuarios/${user.id}`}>\n                        <Button size='small' icon={<EyeOutlined />} />\n                      </Link>\n                    </Tooltip>\n                    <Tooltip title={'Editar usuário'}>\n                      <Link to={`/usuarios/edicao/${user.id}`}>\n                        <Button size='small' icon={<EditOutlined />} />\n                      </Link>\n                    </Tooltip>\n                  </Descriptions.Item>\n                </Descriptions>\n              );\n            },\n          },\n          {\n            dataIndex: 'avatarUrls',\n            title: '',\n            width: 48,\n            fixed: 'left',\n            responsive: ['sm'],\n            render(avatarUrls: User.Summary['avatarUrls']) {\n              return <Avatar size={'small'} src={avatarUrls.small} />;\n            },\n          },\n          {\n            dataIndex: 'name',\n            title: 'Nome',\n            ...getColumnSearchProps('name', 'nome'),\n            width: 160,\n            responsive: ['sm'],\n            ellipsis: true,\n          },\n          {\n            dataIndex: 'email',\n            title: 'Email',\n            responsive: ['md'],\n            ellipsis: true,\n            width: 240,\n            ...getColumnSearchProps('email', 'Email'),\n          },\n          {\n            dataIndex: 'role',\n            title: 'Perfil',\n            align: 'center',\n            responsive: ['sm'],\n            width: 100,\n            sorter(a, b) {\n              return a.role.localeCompare(b.role);\n            },\n            render(role) {\n              return (\n                <Tag color={role === 'MANAGER' ? 'red' : 'blue'}>\n                  {role === 'EDITOR'\n                    ? 'Editor'\n                    : role === 'MANAGER'\n                    ? 'Gerente'\n                    : 'Assistente'}\n                </Tag>\n              );\n            },\n          },\n          {\n            dataIndex: 'createdAt',\n            title: 'Criação',\n            align: 'center',\n            responsive: ['lg'],\n            sorter(a, b) {\n              return new Date(a.createdAt) > new Date(b.createdAt) ? 1 : -1;\n            },\n            width: 120,\n            render(createdAt: string) {\n              return format(parseISO(createdAt), 'dd/MM/yyyy');\n            },\n          },\n          {\n            dataIndex: 'active',\n            title: 'Ativo',\n            align: 'center',\n            width: 100,\n            responsive: ['sm'],\n            render(active: boolean, user) {\n              return (\n                <Switch\n                  disabled={\n                    (active && !user.canBeDeactivated) ||\n                    (!active && !user.canBeActivated)\n                  }\n                  onChange={() => {\n                    toggleUserStatus(user);\n                  }}\n                  checked={active}\n                />\n              );\n            },\n          },\n          {\n            dataIndex: 'id',\n            title: 'Ações',\n            align: 'center',\n            width: 100,\n            responsive: ['sm'],\n            render(id: number) {\n              return (\n                <>\n                  <Tooltip title={'Visualizar usuário'} placement={'left'}>\n                    <Link to={`/usuarios/${id}`}>\n                      <Button size='small' icon={<EyeOutlined />} />\n                    </Link>\n                  </Tooltip>\n                  <Tooltip title={'Editar usuario'} placement={'right'}>\n                    <Link to={`/usuarios/edicao/${id}`}>\n                      <Button size='small' icon={<EditOutlined />} />\n                    </Link>\n                  </Tooltip>\n                </>\n              );\n            },\n          },\n        ]}\n      />\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}