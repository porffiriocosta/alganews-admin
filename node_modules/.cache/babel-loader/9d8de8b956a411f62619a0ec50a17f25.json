{"ast":null,"code":"import _regeneratorRuntime from\"D:/ReactProjetos/alganews-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/ReactProjetos/alganews-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{useCallback}from'react';import{useDispatch,useSelector}from'react-redux';import*as UserActions from'../store/User.reducer';export default function useUsers(){var dispatch=useDispatch();var users=useSelector(function(state){return state.user.list;});var editors=useSelector(function(state){return state.user.list.filter(function(user){return user.role==='EDITOR';});});var fetching=useSelector(function(state){return state.user.fetching;});var fetchUsers=useCallback(function(){return dispatch(UserActions.getAllUsers()).unwrap();},[dispatch]);var toggleUserStatus=useCallback(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(user){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return dispatch(UserActions.toggleUserStatus(user));case 2:dispatch(UserActions.getAllUsers());case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}(),[dispatch]);return{fetchUsers:fetchUsers,users:users,editors:editors,fetching:fetching,toggleUserStatus:toggleUserStatus};}","map":{"version":3,"sources":["D:/ReactProjetos/alganews-admin/src/core/hooks/useUsers.ts"],"names":["useCallback","useDispatch","useSelector","UserActions","useUsers","dispatch","users","state","user","list","editors","filter","role","fetching","fetchUsers","getAllUsers","unwrap","toggleUserStatus"],"mappings":"ySACA,OAASA,WAAT,KAA4B,OAA5B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CAEA,MAAO,GAAKC,CAAAA,WAAZ,KAA6B,uBAA7B,CAEA,cAAe,SAASC,CAAAA,QAAT,EAAoB,CACjC,GAAMC,CAAAA,QAAQ,CAAGJ,WAAW,EAA5B,CAEA,GAAMK,CAAAA,KAAK,CAAGJ,WAAW,CAAC,SAACK,KAAD,QAAsBA,CAAAA,KAAK,CAACC,IAAN,CAAWC,IAAjC,EAAD,CAAzB,CACA,GAAMC,CAAAA,OAAO,CAAGR,WAAW,CAAC,SAACK,KAAD,QAC1BA,CAAAA,KAAK,CAACC,IAAN,CAAWC,IAAX,CAAgBE,MAAhB,CAAuB,SAACH,IAAD,QAAUA,CAAAA,IAAI,CAACI,IAAL,GAAc,QAAxB,EAAvB,CAD0B,EAAD,CAA3B,CAGA,GAAMC,CAAAA,QAAQ,CAAGX,WAAW,CAAC,SAACK,KAAD,QAAsBA,CAAAA,KAAK,CAACC,IAAN,CAAWK,QAAjC,EAAD,CAA5B,CAEA,GAAMC,CAAAA,UAAU,CAAGd,WAAW,CAAC,UAAM,CACnC,MAAOK,CAAAA,QAAQ,CAACF,WAAW,CAACY,WAAZ,EAAD,CAAR,CAAoCC,MAApC,EAAP,CACD,CAF6B,CAE3B,CAACX,QAAD,CAF2B,CAA9B,CAIA,GAAMY,CAAAA,gBAAgB,CAAGjB,WAAW,0FAClC,iBAAOQ,IAAP,wIACQH,CAAAA,QAAQ,CAACF,WAAW,CAACc,gBAAZ,CAA6BT,IAA7B,CAAD,CADhB,QAEEH,QAAQ,CAACF,WAAW,CAACY,WAAZ,EAAD,CAAR,CAFF,sDADkC,+DAKlC,CAACV,QAAD,CALkC,CAApC,CAQA,MAAO,CACLS,UAAU,CAAVA,UADK,CAELR,KAAK,CAALA,KAFK,CAGLI,OAAO,CAAPA,OAHK,CAILG,QAAQ,CAARA,QAJK,CAKLI,gBAAgB,CAAhBA,gBALK,CAAP,CAOD","sourcesContent":["import { User } from 'danielbonifacio-sdk';\nimport { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { AppDispatch, RootState } from '../store';\nimport * as UserActions from '../store/User.reducer';\n\nexport default function useUsers() {\n  const dispatch = useDispatch<AppDispatch>();\n\n  const users = useSelector((state: RootState) => state.user.list);\n  const editors = useSelector((state: RootState) =>\n    state.user.list.filter((user) => user.role === 'EDITOR')\n  );\n  const fetching = useSelector((state: RootState) => state.user.fetching);\n\n  const fetchUsers = useCallback(() => {\n    return dispatch(UserActions.getAllUsers()).unwrap();\n  }, [dispatch]);\n\n  const toggleUserStatus = useCallback(\n    async (user: User.Detailed | User.Summary) => {\n      await dispatch(UserActions.toggleUserStatus(user));\n      dispatch(UserActions.getAllUsers());\n    },\n    [dispatch]\n  );\n\n  return {\n    fetchUsers,\n    users,\n    editors,\n    fetching,\n    toggleUserStatus,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}