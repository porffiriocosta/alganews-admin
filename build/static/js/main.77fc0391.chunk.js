(this["webpackJsonpalganews-admin"]=this["webpackJsonpalganews-admin"]||[]).push([[0],{697:function(e,t){},703:function(e,t){},705:function(e,t){},715:function(e,t){},717:function(e,t){},744:function(e,t){},745:function(e,t){},750:function(e,t){},752:function(e,t){},759:function(e,t){},778:function(e,t){},952:function(e,t,n){},956:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(58),s=n.n(c),i=n(59),o=n(60),l=n(22),u=n(620),d=n.n(u),j=n(33),b=n.n(j),p=(n(656),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,997)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))}),m=n(41),h=n(155),f=n(629),O=n(11),x=n.n(O),v=n(24),g=n(28),y=n(37),w=n(251);function E(e){return{success:m.e.apply(void 0,Object(w.a)(e)),error:m.g.apply(void 0,Object(w.a)(e)),loading:m.f.apply(void 0,Object(w.a)(e))}}var k=Object(m.b)("payment/getAllPayments",function(){var e=Object(g.a)(x.a.mark((function e(t,n){var a,r,c,s,i,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.getState,r=n.dispatch,c=n.rejectWithValue,e.prev=1,s=a(),i=s.payment.query,e.next=5,y.PaymentService.getAllPayments(i);case 5:return o=e.sent,e.next=8,r(Y(o));case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",c(Object(v.a)({},e.t0)));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()),C=Object(m.b)("payment/approvePaymentsInBatch",function(){var e=Object(g.a)(x.a.mark((function e(t,n){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.next=3,y.PaymentService.approvePaymentsBatch(t);case 3:return e.next=5,a(k());case 5:return e.next=7,a(M([]));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),S=Object(m.b)("payment/deleteExistingPayment",function(){var e=Object(g.a)(x.a.mark((function e(t,n){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.next=3,y.PaymentService.removeExistingPayment(t);case 3:return e.next=5,a(k());case 5:return e.next=7,a(M([]));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),P=Object(m.b)("payment/setQuery",function(){var e=Object(g.a)(x.a.mark((function e(t,n){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.next=3,a(D(t));case 3:return e.next=5,a(k());case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),I=Object(m.d)({initialState:{fetching:!1,selected:[],query:{sort:["scheduledTo","desc"],page:0,size:7},paginated:{page:0,size:7,totalPages:1,totalElements:0,content:[]}},name:"payment",reducers:{storeList:function(e,t){e.paginated=t.payload},storeQuery:function(e,t){e.query=Object(v.a)(Object(v.a)({},e.query),t.payload)},storeSelectedKeys:function(e,t){e.selected=t.payload}},extraReducers:function(e){var t=E([k,C,S]),n=t.success,a=t.error,r=t.loading;e.addMatcher(n,(function(e){e.fetching=!1})).addMatcher(a,(function(e,t){e.fetching=!1})).addMatcher(r,(function(e){e.fetching=!0}))}}),A=I.actions,D=A.storeQuery,Y=A.storeList,M=A.storeSelectedKeys,F=I.reducer,T=Object(m.b)("user/getAllUsers",function(){var e=Object(g.a)(x.a.mark((function e(t,n){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,e.next=4,y.UserService.getAllUsers();case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",a(Object(v.a)({},e.t0)));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),N=Object(m.b)("user/toggleUserStatus",function(){var e=Object(g.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.active){e.next=5;break}return e.next=3,y.UserService.deactivateExistingUser(t.id);case 3:e.next=7;break;case 5:return e.next=7,y.UserService.activateExistingUser(t.id);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),R=Object(m.c)({fetching:!1,list:[]},(function(e){var t=Object(m.e)(T,N),n=Object(m.g)(T,N),a=Object(m.f)(T,N);e.addCase(T.fulfilled,(function(e,t){e.list=t.payload})).addMatcher(t,(function(e){e.fetching=!1})).addMatcher(n,(function(e,t){e.fetching=!1})).addMatcher(a,(function(e){e.fetching=!0}))})),U={list:[],fetching:!1,query:{type:"EXPENSE",sort:["transactedOn","desc"],yearMonth:new URLSearchParams(window.location.search).get("yearMonth")||b()().format("YYYY-MM")},selected:[]},z=Object(m.b)("cash-flow/expenses/getExpenses",function(){var e=Object(g.a)(x.a.mark((function e(t,n){var a,r,c,s,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.getState,r=n.dispatch,c=n.rejectWithValue,e.prev=1,s=a().cashFlow.expense.query,e.next=5,y.CashFlowService.getAllEntries(s);case 5:return i=e.sent,e.next=8,r(G(i));case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",c(Object(v.a)({},e.t0)));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()),B=Object(m.b)("cash-flow/expenses/createExpense",function(){var e=Object(g.a)(x.a.mark((function e(t,n){var a,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,r=n.rejectWithValue,e.prev=1,e.next=4,y.CashFlowService.insertNewEntry(t);case 4:return e.next=6,a(z());case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(Object(v.a)({},e.t0)));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),V=Object(m.b)("cash-flow/expenses/updateExpense",function(){var e=Object(g.a)(x.a.mark((function e(t,n){var a,r,c,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.entry,r=t.entryId,c=n.dispatch,s=n.rejectWithValue,e.prev=2,e.next=5,y.CashFlowService.updateExistingEntry(r,a);case 5:return e.next=7,c(z());case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",s(Object(v.a)({},e.t0)));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}()),q=Object(m.b)("cash-flow/expenses/removeExpense",function(){var e=Object(g.a)(x.a.mark((function e(t,n){var a,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,r=n.rejectWithValue,e.prev=1,e.next=4,y.CashFlowService.removeExistingEntry(t);case 4:return e.next=6,a(z());case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(Object(v.a)({},e.t0)));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),L=Object(m.b)("cash-flow/expenses/removeEntriesInBatch",function(){var e=Object(g.a)(x.a.mark((function e(t,n){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.next=3,y.CashFlowService.removeEntriesBatch(t);case 3:return e.next=5,a(z());case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),X=Object(m.b)("cash-flow/expenses/setQuery",function(){var e=Object(g.a)(x.a.mark((function e(t,n){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.next=3,a(K(t));case 3:return e.next=5,a(z());case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),_=Object(m.d)({initialState:U,name:"cash-flow/expenses",reducers:{storeList:function(e,t){e.list=t.payload},setSelectedExpenses:function(e,t){e.selected=t.payload},setQuery:function(e,t){e.query=Object(v.a)(Object(v.a)({},e.query),t.payload)},setFetching:function(e,t){e.fetching=t.payload}},extraReducers:function(e){var t=E([z,L,B,V]),n=t.error,a=t.loading,r=t.success;e.addMatcher(n,(function(e){e.fetching=!1})).addMatcher(r,(function(e){e.fetching=!1})).addMatcher(a,(function(e){e.fetching=!0}))}}),W=_.actions,G=W.storeList,H=W.setSelectedExpenses,K=W.setQuery,Q=(W.setFetching,_.reducer),J={list:[],fetching:!1,query:{type:"REVENUE",sort:["transactedOn","desc"],yearMonth:b()().format("YYYY-MM")},selected:[]},$=Object(m.b)("cash-flow/revenues/getRevenues",function(){var e=Object(g.a)(x.a.mark((function e(t,n){var a,r,c,s,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.getState,r=n.dispatch,c=n.rejectWithValue,e.prev=1,s=a().cashFlow.revenue.query,e.next=5,y.CashFlowService.getAllEntries(s);case 5:return i=e.sent,e.next=8,r(se(i));case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",c(Object(v.a)({},e.t0)));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()),Z=Object(m.b)("cash-flow/revenues/createRevenue",function(){var e=Object(g.a)(x.a.mark((function e(t,n){var a,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,r=n.rejectWithValue,e.prev=1,e.next=4,y.CashFlowService.insertNewEntry(t);case 4:return e.next=6,a($());case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(Object(v.a)({},e.t0)));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),ee=Object(m.b)("cash-flow/revenues/updateRevenue",function(){var e=Object(g.a)(x.a.mark((function e(t,n){var a,r,c,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.entry,r=t.entryId,c=n.dispatch,s=n.rejectWithValue,e.prev=2,e.next=5,y.CashFlowService.updateExistingEntry(r,a);case 5:return e.next=7,c($());case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",s(Object(v.a)({},e.t0)));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}()),te=Object(m.b)("cash-flow/revenues/removeRevenue",function(){var e=Object(g.a)(x.a.mark((function e(t,n){var a,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,r=n.rejectWithValue,e.prev=1,e.next=4,y.CashFlowService.removeExistingEntry(t);case 4:return e.next=6,a($());case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(Object(v.a)({},e.t0)));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),ne=Object(m.b)("cash-flow/revenues/removeEntriesInBatch",function(){var e=Object(g.a)(x.a.mark((function e(t,n){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.next=3,y.CashFlowService.removeEntriesBatch(t);case 3:return e.next=5,a($());case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ae=Object(m.b)("cash-flow/revenues/setQuery",function(){var e=Object(g.a)(x.a.mark((function e(t,n){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.next=3,a(oe(t));case 3:return e.next=5,a($());case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),re=Object(m.d)({initialState:J,name:"cash-flow/revenues",reducers:{storeList:function(e,t){e.list=t.payload},setSelectedRevenues:function(e,t){e.selected=t.payload},setQuery:function(e,t){e.query=Object(v.a)(Object(v.a)({},e.query),t.payload)},setFetching:function(e,t){e.fetching=t.payload}},extraReducers:function(e){var t=E([$,ne,Z]),n=t.error,a=t.loading,r=t.success;e.addMatcher(n,(function(e){e.fetching=!1})).addMatcher(r,(function(e){e.fetching=!1})).addMatcher(a,(function(e){e.fetching=!0}))}}),ce=re.actions,se=ce.storeList,ie=ce.setSelectedRevenues,oe=ce.setQuery,le=(ce.setFetching,re.reducer),ue=Object(m.b)("cash-flow/categories/getCategories",function(){var e=Object(g.a)(x.a.mark((function e(t,n){var a,r,c,s,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,r=n.rejectWithValue,e.prev=1,e.next=4,y.CashFlowService.getAllCategories({sort:["id","desc"]});case 4:return c=e.sent,s=c.filter((function(e){return"EXPENSE"===e.type})),i=c.filter((function(e){return"REVENUE"===e.type})),e.next=9,a(me(s));case 9:return e.next=11,a(he(i));case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",r(Object(v.a)({},e.t0)));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,n){return e.apply(this,arguments)}}()),de=Object(m.b)("cash-flow/categories/createCategory",function(){var e=Object(g.a)(x.a.mark((function e(t,n){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.next=3,y.CashFlowService.insertNewCategory(t);case 3:return e.next=5,a(ue());case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),je=Object(m.b)("cash-flow/categories/deleteCategory",function(){var e=Object(g.a)(x.a.mark((function e(t,n){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.next=3,y.CashFlowService.removeExistingCategory(t);case 3:return e.next=5,a(ue());case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),be=Object(m.d)({initialState:{fetching:!1,expenses:[],revenues:[]},name:"cash-flow/categories",reducers:{storeExpenses:function(e,t){e.expenses=t.payload},storeRevenues:function(e,t){e.revenues=t.payload},storeFetching:function(e,t){e.fetching=t.payload}},extraReducers:function(e){var t=E([ue,de,je]),n=t.error,a=t.loading,r=t.success;e.addMatcher(n,(function(e){e.fetching=!1})).addMatcher(r,(function(e){e.fetching=!1})).addMatcher(a,(function(e){e.fetching=!0}))}}),pe=be.actions,me=pe.storeExpenses,he=(pe.storeFetching,pe.storeRevenues),fe=be.reducer,Oe=Object(m.b)("auth/fetchUser",function(){var e=Object(g.a)(x.a.mark((function e(t,n){var a,r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,r=n.dispatch,e.prev=1,e.next=4,y.UserService.getDetailedUser(t);case 4:c=e.sent,r(ge(c)),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",a(Object(v.a)({},e.t0)));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),xe=Object(m.d)({initialState:{user:null,fetching:!1},name:"auth",reducers:{storeUser:function(e,t){e.user=t.payload},clearUser:function(e){e.user=null}}}),ve=xe.actions,ge=ve.storeUser,ye=(ve.clearUser,xe.reducer),we=Object(m.d)({initialState:{breadcrumb:[]},name:"ui",reducers:{setBreadcrumb:function(e,t){e.breadcrumb=t.payload}}}),Ee=we.actions.setBreadcrumb,ke=we.reducer,Ce=function(){return function(e){return function(t){if(Object(m.g)(t)){var n=!["cash-flow/categories/createCategory/rejected","cash-flow/categories/deleteCategory/rejected","cash-flow/expenses/createExpense/rejected","cash-flow/revenues/createRevenue/rejected","user/getAllUsers/rejected"].includes(t.type),a=t.meta.rejectedWithValue?t.payload.message:t.error.message;n&&f.a.error({message:a})}e(t)}}},Se=Object(h.b)({expense:Q,revenue:le,category:fe}),Pe=Object(m.a)({reducer:{user:R,payment:F,cashFlow:Se,auth:ye,ui:ke},middleware:function(e){return e().concat(Ce)}}),Ie=n(963),Ae=n(977);function De(e){var t=Object(o.b)(),n=Object(o.c)((function(e){return e.ui.breadcrumb}));return Object(a.useEffect)((function(){e&&t(Ee(e.split("/")))}),[t,e]),{breadcrumb:n}}var Ye=n(3);function Me(){var e=De().breadcrumb;return Object(Ye.jsx)(Ae.a,{className:"no-print",style:{margin:"16px 0"},children:e.map((function(e,t){return Object(Ye.jsx)(Ae.a.Item,{children:e},t)}))})}var Fe=Ie.a.Content;function Te(e){return Object(Ye.jsx)(Fe,{className:"site-layout-background",style:{margin:0,minHeight:280},children:e.children})}var Ne=n(252),Re=n(344),Ue=n(160),ze=n(979),Be=n(631),Ve=n(983),qe=n(984),Le=n(345),Xe=n.n(Le),_e=n(600),We=n.n(_e),Ge=n.p+"static/media/logo.3315c961.svg";function He(){var e=Object(o.b)();return{user:Object(o.c)((function(e){return e.auth.user})),fetching:Object(o.c)((function(e){return e.auth.fetching})),fetchUser:Object(a.useCallback)((function(t){return e(Oe(t)).unwrap()}),[e])}}var Ke=n(150),Qe=n.n(Ke),Je=n(178),$e=n(179),Ze=n(265),et=n.n(Ze),tt=n(377),nt=n.n(tt),at=n(599),rt=n.n(at),ct="http://localhost:8081",st=et.a.create({baseURL:ct});st.interceptors.response.use(void 0,function(){var e=Object(g.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 401===(null===t||void 0===t||null===(n=t.response)||void 0===n?void 0:n.status)&&it.imperativelySendToLogout(),e.abrupt("return",Promise.reject(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var it=function(){function e(){Object(Je.a)(this,e)}return Object($e.a)(e,null,[{key:"imperativelySendToLogout",value:function(){window.localStorage.clear(),window.location.href="".concat(ct,"/logout?redirect=").concat("http://localhost:3000")}},{key:"getNewToken",value:function(){var e=Object(g.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nt.a.stringify({refresh_token:t.refreshToken,code_verifier:t.codeVerifier,grant_type:"refresh_token",client_id:"alganews-admin"}),e.abrupt("return",st.post("/oauth/token",n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFirstAccessTokens",value:function(){var e=Object(g.a)(x.a.mark((function e(t){var n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={code:t.code,code_verifier:t.codeVerifier,redirect_uri:t.redirectUri,grant_type:"authorization_code",client_id:"alganews-admin"},a=nt.a.stringify(n),e.abrupt("return",st.post("/oauth/token",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return e.data})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLoginScreenUrl",value:function(e){var t=nt.a.stringify({response_type:"code",client_id:"alganews-admin",redirect_uri:"".concat(window.location.origin,"/authorize"),code_challenge:e,code_challenge_method:"S256"});return"".concat(ct,"/oauth/authorize?").concat(t)}},{key:"imperativelySendToLoginScreen",value:function(){var e=Object(g.a)(x.a.mark((function e(){var t,n,a,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt()();case 2:t=e.sent,n=t.code_challenge,a=t.code_verifier,this.setCodeVerifier(a),r=this.getLoginScreenUrl(n),window.location.href=r;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAccessToken",value:function(){return window.localStorage.getItem("accessToken")}},{key:"setAccessToken",value:function(e){return window.localStorage.setItem("accessToken",e)}},{key:"getRefreshToken",value:function(){return window.localStorage.getItem("refreshToken")}},{key:"setRefreshToken",value:function(e){return window.localStorage.setItem("refreshToken",e)}},{key:"getCodeVerifier",value:function(){return window.localStorage.getItem("codeVerifier")}},{key:"setCodeVerifier",value:function(e){return window.localStorage.setItem("codeVerifier",e)}}]),e}(),ot=Ie.a.Header;function lt(){var e=He().user;return Object(Ye.jsx)(ot,{className:"header no-print",children:Object(Ye.jsxs)(Ne.a,{justify:"space-between",style:{height:"100%",maxWidth:1190,margin:"0 auto"},align:"middle",children:[Object(Ye.jsx)("img",{src:Ge,alt:"AlgaNews Admin"}),Object(Ye.jsx)(Re.a,{placement:"bottomRight",overlay:Object(Ye.jsxs)(Ue.a,{style:{width:220},children:[Object(Ye.jsx)(ze.a,{bordered:!1,children:Object(Ye.jsx)(We.a,{title:null===e||void 0===e?void 0:e.name,description:Object(Ye.jsx)(Be.a,{color:"MANAGER"===(null===e||void 0===e?void 0:e.role)?"red":"blue",children:"EDITOR"===(null===e||void 0===e?void 0:e.role)?"Editor":"MANAGER"===(null===e||void 0===e?void 0:e.role)?"Gerente":"Assistente"})})}),Object(Ye.jsx)(Ue.a.Item,{icon:Object(Ye.jsx)(Ve.a,{}),children:Object(Ye.jsx)(i.b,{to:"/usuarios/".concat(null===e||void 0===e?void 0:e.id),children:"Meu perfil"})}),Object(Ye.jsx)(Ue.a.Item,{icon:Object(Ye.jsx)(qe.a,{}),onClick:function(){return Qe()({title:"Fazer logout",content:"Deseja realmente fazer o logout? Ser\xe1 necess\xe1rio inserir as credenciais novamente.",onOk:function(){it.imperativelySendToLogout()},closable:!0,okButtonProps:{danger:!0},okText:"Fazer logout",cancelText:"Permanecer logado"})},danger:!0,children:"Fazer logout"})]}),children:Object(Ye.jsx)(Xe.a,{src:null===e||void 0===e?void 0:e.avatarUrls.small})})]})})}var ut=n(31),dt=n(975),jt=n(76),bt=n(985),pt=n(986),mt=n(987),ht=n(988),ft=n(989),Ot=n(990),xt=n(991),vt=n(992),gt=n(80),yt=n(114),wt=n.n(yt),Et=Ie.a.Sider,kt=Ue.a.SubMenu;function Ct(){var e=wt()().lg,t=Object(gt.g)(),n=Object(gt.h)(),r=Object(a.useState)(!0),c=Object(ut.a)(r,2),s=c[0],o=c[1],l=Object(a.useMemo)((function(){return e?Et:dt.a}),[e]),u=Object(a.useMemo)((function(){return{width:200,className:"site-layout-background no-print"}}),[]),d=Object(a.useMemo)((function(){return{visible:s,closable:!0,title:Object(Ye.jsx)(Ye.Fragment,{children:Object(Ye.jsx)("img",{src:Ge,alt:"logo alga news"})}),headerStyle:{height:64},bodyStyle:{padding:0},onClose:function(){o(!1)},placement:"left"}}),[s]),j=Object(a.useMemo)((function(){return e?u:d}),[e,u,d]);return Object(Ye.jsxs)(Ye.Fragment,{children:[!e&&Object(Ye.jsx)(jt.a,{icon:Object(Ye.jsx)(bt.a,{}),onClick:function(){return o(!0)},type:"text",style:{position:"fixed",top:0,left:0,height:64,zIndex:99}}),Object(Ye.jsx)(l,Object(v.a)(Object(v.a)({},j),{},{children:Object(Ye.jsxs)(Ue.a,{mode:"inline",defaultSelectedKeys:[n.pathname],defaultOpenKeys:[n.pathname.split("/")[1]],style:{height:"100%",borderRight:0},children:[Object(Ye.jsx)(Ue.a.Item,{icon:Object(Ye.jsx)(pt.a,{}),children:Object(Ye.jsx)(i.b,{to:"/",children:"Home"})},"/"),Object(Ye.jsxs)(kt,{icon:Object(Ye.jsx)(Ve.a,{}),title:"Usu\xe1rios",children:[Object(Ye.jsx)(Ue.a.Item,{onClick:function(){return t.push("/usuarios")},icon:Object(Ye.jsx)(mt.a,{}),children:Object(Ye.jsx)(i.b,{to:"/usuarios",children:"Consulta"})},"/usuarios"),Object(Ye.jsx)(Ue.a.Item,{onClick:function(){return t.push("/usuarios/cadastro")},icon:Object(Ye.jsx)(ht.a,{}),children:Object(Ye.jsx)(i.b,{to:"/usuarios/cadastro",children:"Cadastro"})},"/usuarios/cadastro")]},"usuarios"),Object(Ye.jsxs)(kt,{icon:Object(Ye.jsx)(ft.a,{}),title:"Pagamentos",children:[Object(Ye.jsx)(Ue.a.Item,{onClick:function(){return t.push("/pagamentos")},icon:Object(Ye.jsx)(mt.a,{}),children:Object(Ye.jsx)(i.b,{to:"/pagamentos",children:"Consulta"})},"/pagamentos"),Object(Ye.jsx)(Ue.a.Item,{onClick:function(){return t.push("/pagamentos/cadastro")},icon:Object(Ye.jsx)(ht.a,{}),children:Object(Ye.jsx)(i.b,{to:"/pagamentos/cadastro",children:"Cadastro"})},"/pagamentos/cadastro")]},"pagamentos"),Object(Ye.jsxs)(kt,{icon:Object(Ye.jsx)(Ot.a,{}),title:"Fluxo de Caixa",children:[Object(Ye.jsx)(Ue.a.Item,{onClick:function(){return t.push("/fluxo-de-caixa/despesas")},icon:Object(Ye.jsx)(xt.a,{}),children:Object(Ye.jsx)(i.b,{to:"/fluxo-de-caixa/despesas",children:"Despesa"})},"/fluxo-de-caixa/despesas"),Object(Ye.jsx)(Ue.a.Item,{onClick:function(){return t.push("/fluxo-de-caixa/receitas")},icon:Object(Ye.jsx)(vt.a,{}),children:Object(Ye.jsx)(i.b,{to:"/fluxo-de-caixa/receitas",children:"Receita"})},"/fluxo-de-caixa/receitas")]},"fluxo-de-caixa")]})}))]})}function St(e){return Object(Ye.jsxs)(Ie.a,{children:[Object(Ye.jsx)(lt,{}),Object(Ye.jsxs)(Ie.a,{id:"PageLayout",children:[Object(Ye.jsx)(Ct,{}),Object(Ye.jsxs)(Ie.a,{style:{padding:"0 24px 24px"},children:[Object(Ye.jsx)(Me,{}),Object(Ye.jsx)(Te,{children:e.children})]})]})]})}var Pt=n(971),It=n(980),At=n(142),Dt=n(965);function Yt(e){Object(a.useEffect)((function(){document.title="".concat(e," - ").concat("AlgaNews")}),[])}var Mt=n(973),Ft=n(149),Tt=n(249),Nt=n(245),Rt=n(626);function Ut(e){return e.map((function(e){return[{yearMonth:e.yearMonth,value:e.totalRevenues,category:"totalRevenues"},{yearMonth:e.yearMonth,value:e.totalExpenses,category:"totalExpenses"}]})).flat()}var zt=n(993);function Bt(e){return Object(Ye.jsx)(ze.a,{style:{minHeight:e.minHeight,display:"flex",alignItems:"center"},children:Object(Ye.jsxs)(It.b,{direction:"vertical",children:[Object(Ye.jsxs)(It.b,{align:"center",children:[Object(Ye.jsx)(zt.a,{style:{fontSize:32}}),Object(Ye.jsx)(Pt.a.Title,{style:{margin:0},children:"Acesso negado"})]}),Object(Ye.jsx)(Pt.a.Paragraph,{children:"Voc\xea n\xe3o tem permiss\xe3o para visualizar estes dados"})]})})}function Vt(){var e=Object(a.useState)([]),t=Object(ut.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(ut.a)(c,2),i=s[0],o=s[1];if(Object(a.useEffect)((function(){y.MetricService.getMonthlyRevenuesExpenses().then(Ut).then(r).catch((function(e){if(!(e instanceof Ft.ForbiddenError))throw e;o(!0)}))}),[]),i)return Object(Ye.jsx)(Bt,{minHeight:256});var l={data:n,height:256,color:["#0099ff","#274060"],areaStyle:{fillOpacity:1},xField:"yearMonth",yField:"value",seriesField:"category",legend:{itemName:{formatter:function(e){return"totalRevenues"===e?"Receitas":"Despesas"}}},tooltip:{title:function(e){return Object(Tt.a)(Object(Nt.a)(e),"MMMM yyyy",{locale:Rt.a})},formatter:function(e){return{name:"totalRevenues"===e.category?"Receitas":"Despesas",value:e.value.toLocaleString("pt-BR",{currency:"BRL",style:"currency",maximumFractionDigits:2})}}},yAxis:!1,xAxis:{label:{formatter:function(e){return Object(Tt.a)(Object(Nt.a)(e),"MM/yyyy")}}},point:{size:5,shape:"circle"}};return Object(Ye.jsx)(Mt.a,Object(v.a)({},l))}var qt=n(976);function Lt(){var e=function(){var e=Object(a.useState)(),t=Object(ut.a)(e,2),n=t[0],r=t[1],c=Object(a.useCallback)((function(){y.PostService.getAllPosts({sort:["createdAt","desc"],page:0,size:3}).then(r)}),[]);return{posts:null===n||void 0===n?void 0:n.content,fetchPosts:c}}(),t=e.fetchPosts,n=e.posts;return Object(a.useEffect)((function(){t()}),[t]),Object(Ye.jsx)(Ne.a,{gutter:16,children:null===n||void 0===n?void 0:n.map((function(e){return Object(Ye.jsx)(At.a,{xs:24,md:8,children:Object(Ye.jsx)(ze.a,{cover:Object(Ye.jsx)("img",{alt:e.title,src:e.imageUrls.small,style:{height:168,objectFit:"cover"}}),children:Object(Ye.jsx)(ze.a.Meta,{avatar:Object(Ye.jsx)(qt.a,{src:e.editor.avatarUrls.small}),title:e.title})})},e.id)}))})}var Xt=Pt.a.Title,_t=Pt.a.Paragraph;var Wt=function(){Yt("Home"),De("Home");var e=He().user;return Object(Ye.jsxs)(It.b,{direction:"vertical",size:"small",style:{maxWidth:"100%"},children:[Object(Ye.jsxs)(Ne.a,{children:[Object(Ye.jsxs)(At.a,{span:24,children:[Object(Ye.jsxs)(Xt,{level:2,children:["Ol\xe1, ",null===e||void 0===e?void 0:e.name]}),Object(Ye.jsx)(_t,{children:"Este \xe9 o resumo da empresa nos \xfaltimos doze meses"})]}),Object(Ye.jsx)(At.a,{span:24,children:Object(Ye.jsx)(Vt,{})})]}),Object(Ye.jsx)(Dt.a,{}),Object(Ye.jsxs)(Ne.a,{children:[Object(Ye.jsx)(At.a,{span:24,children:Object(Ye.jsx)(Xt,{level:3,children:"\xdaltimos posts"})}),Object(Ye.jsx)(At.a,{span:24,children:Object(Ye.jsx)(Lt,{})})]})]})},Gt=n(427),Ht=n(970),Kt=n(969),Qt=n(974),Jt=n(968),$t=n(283),Zt=n(621),en=n(128),tn=n.n(en),nn=n(428);function an(e){var t=Object(a.useCallback)((function(e){return e.toLocaleString("pt-br",{style:"currency",currency:"BRL",maximumFractionDigits:2,minimumFractionDigits:2})}),[]),n=Object(a.useState)("number"===typeof e.value?t(e.value):e.value),r=Object(ut.a)(n,2),c=r[0],s=r[1];return Object(Ye.jsx)("input",Object(v.a)(Object(v.a)({className:"ant-input"},e),{},{value:c,onChange:function(n){var a=n.currentTarget.value.replace(/[^(0-9)]/gi,""),r=Number(a)/100;s(t(r)),e.onChange&&e.onChange(n,r)}}))}var rn=Gt.a.TabPane;function cn(e){var t,n,c,s,i,o=Object(gt.g)(),l=Ht.a.useForm(),u=Object(ut.a)(l,1)[0],d=Object(a.useState)(!1),j=Object(ut.a)(d,2),b=j[0],p=j[1],m=Object(a.useState)((null===(t=e.user)||void 0===t?void 0:t.avatarUrls.default)||""),h=Object(ut.a)(m,2),O=h[0],E=h[1],k=Object(a.useState)("personal"),C=Object(ut.a)(k,2),S=C[0],P=C[1],I=He().user,A=Object(a.useState)("EDITOR"===(null===(n=e.user)||void 0===n?void 0:n.role)),D=Object(ut.a)(A,2),Y=D[0],M=D[1],F=Object(a.useCallback)(function(){var e=Object(g.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.FileService.upload(t);case 2:n=e.sent,E(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(a.useEffect)((function(){u.setFieldsValue({avatarUrl:O||void 0})}),[O,u]),Object(Ye.jsx)(Ht.a,{form:u,autoComplete:"off",layout:"vertical",onFinishFailed:function(e){var t=0,n=0;e.errorFields.forEach((function(e){var a=e.name;a.includes("bankAccount")&&t++,(a.includes("location")||a.includes("skills")||a.includes("phone")||a.includes("taxpayerId")||a.includes("pricePerWord"))&&n++})),t>n&&P("bankAccount"),n>t&&P("personal")},onFinish:function(){var t=Object(g.a)(x.a.mark((function t(n){var a,r,c,s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p(!0),console.log(n),a=Object(v.a)(Object(v.a)({},n),{},{phone:n.phone.replace(/\D/g,""),taxpayerId:n.taxpayerId.replace(/\D/g,"")}),!e.user){t.next=5;break}return t.abrupt("return",e.onUpdate&&e.onUpdate(a).finally((function(){p(!1)})));case 5:return t.prev=5,t.next=8,y.UserService.insertNewUser(a);case 8:o.push("/usuarios"),f.a.success({message:"Sucesso",description:"usu\xe1rio criado com sucesso"}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(5),console.log(t.t0),t.t0 instanceof tn.a?(null===(r=t.t0.data)||void 0===r?void 0:r.objects)?u.setFields(t.t0.data.objects.map((function(e){var t;return{name:null===(t=e.name)||void 0===t?void 0:t.split(/(\.|\[|\])/gi).filter((function(e){return"."!==e&&"["!==e&&"]"!==e&&""!==e})).map((function(e){return isNaN(Number(e))?e:Number(e)})),errors:[e.userMessage]}}))):f.a.error({message:t.t0.message,description:"Network Error"===(null===(c=t.t0.data)||void 0===c?void 0:c.detail)?"Erro na rede":null===(s=t.t0.data)||void 0===s?void 0:s.detail}):f.a.error({message:"Houve um erro"});case 16:return t.prev=16,p(!1),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[5,12,16,19]])})));return function(e){return t.apply(this,arguments)}}(),initialValues:e.user,children:Object(Ye.jsxs)(Ne.a,{gutter:24,align:"middle",children:[Object(Ye.jsx)(At.a,{xs:24,lg:4,children:Object(Ye.jsxs)(Ne.a,{justify:"center",children:[Object(Ye.jsx)(Zt.a,{rotate:!0,shape:"round",grid:!0,aspect:1,children:Object(Ye.jsx)(Kt.a,{maxCount:1,onRemove:function(){E("")},beforeUpload:function(e){return F(e),!1},fileList:Object(w.a)(O?[{name:"Avatar",uid:""}]:[]),children:Object(Ye.jsx)(qt.a,{style:{cursor:"pointer"},icon:Object(Ye.jsx)(Ve.a,{}),src:O,size:128})})}),Object(Ye.jsx)(Ht.a.Item,{name:"avatarUrl",hidden:!0,children:Object(Ye.jsx)(Qt.a,{hidden:!0})})]})}),Object(Ye.jsxs)(At.a,{xs:24,lg:8,children:[Object(Ye.jsx)(Ht.a.Item,{label:"Nome",name:"name",rules:[{required:!0,message:"O campo \xe9 obrigat\xf3rio"},{max:255,message:"O nome n\xe3o pode ter mais de 255 caracteres"}],children:Object(Ye.jsx)(Qt.a,{placeholder:"E.g.: Jo\xe3o Silva"})}),Object(Ye.jsx)(Ht.a.Item,{label:"Data de nascimento",name:"birthdate",rules:[{required:!0,message:"O campo \xe9 obrigat\xf3rio"}],children:Object(Ye.jsx)(Jt.a,{style:{width:"100%"},format:"DD/MM/YYYY"})})]}),Object(Ye.jsx)(At.a,{xs:24,lg:12,children:Object(Ye.jsx)(Ht.a.Item,{label:"Bio",name:"bio",rules:[{required:!0,message:"O campo \xe9 obrigat\xf3rio"},{max:255,message:"A biografia n\xe3o pode ter mais de 255 caracteres"},{min:10,message:"A biografia n\xe3o pode ter menos de 10 caracteres"}],children:Object(Ye.jsx)(Qt.a.TextArea,{rows:5})})}),Object(Ye.jsx)(At.a,{xs:24,children:Object(Ye.jsx)(Dt.a,{})}),Object(Ye.jsx)(At.a,{xs:24,lg:12,children:Object(Ye.jsx)(Ht.a.Item,{label:"Perfil",name:"role",rules:[{required:!0,message:"O campo \xe9 obrigat\xf3rio"},{type:"enum",enum:["EDITOR","ASSISTANT","MANAGER"],message:"O Perfil precisar ser editor, assitente ou gerente"}],children:Object(Ye.jsxs)($t.a,{disabled:e.user&&!(null===(c=e.user)||void 0===c?void 0:c.canSensitiveDataBeUpdated),onChange:function(e){M("EDITOR"===e)},placeholder:"Selecione um perfil",children:[Object(Ye.jsx)($t.a.Option,{value:"EDITOR",children:"Editor"}),Object(Ye.jsx)($t.a.Option,{value:"ASSISTANT",children:"Assistente"}),Object(Ye.jsx)($t.a.Option,{value:"MANAGER",disabled:"MANAGER"!==(null===I||void 0===I?void 0:I.role),children:"Gerente"})]})})}),Object(Ye.jsx)(At.a,{xs:24,lg:12,children:Object(Ye.jsx)(Ht.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"O campo \xe9 obrigat\xf3rio"},{max:255,message:"O email n\xe3o pode ter mais de 255 caracteres"}],children:Object(Ye.jsx)(Qt.a,{type:"email",disabled:e.user&&!(null===(s=e.user)||void 0===s?void 0:s.canSensitiveDataBeUpdated),placeholder:"E.g.: contato@joao.silva"})})}),Object(Ye.jsx)(At.a,{sm:24,children:Object(Ye.jsx)(Dt.a,{})}),Object(Ye.jsx)(At.a,{sm:24,children:Object(Ye.jsxs)(Gt.a,{defaultActiveKey:"personal",activeKey:S,onChange:function(e){return P(e)},children:[Object(Ye.jsx)(rn,{tab:"Dados pessoais",children:Object(Ye.jsxs)(Ne.a,{gutter:24,children:[Object(Ye.jsx)(At.a,{xs:24,lg:8,children:Object(Ye.jsx)(Ht.a.Item,{label:"Pa\xeds",name:["location","country"],rules:[{required:!0,message:"O campo \xe9 obrigat\xf3rio"},{max:50,message:"O pa\xeds n\xe3o pode ter mais de 50 caracteres"}],children:Object(Ye.jsx)(Qt.a,{placeholder:"E.g.: Brasil"})})}),Object(Ye.jsx)(At.a,{xs:24,lg:8,children:Object(Ye.jsx)(Ht.a.Item,{label:"Estado",name:["location","state"],rules:[{required:!0,message:"O campo \xe9 obrigat\xf3rio"},{max:50,message:"O estado n\xe3o pode ter mais de 50 caracteres"}],children:Object(Ye.jsx)(Qt.a,{placeholder:"E.g.: Esp\xedrito Santo"})})}),Object(Ye.jsx)(At.a,{xs:24,lg:8,children:Object(Ye.jsx)(Ht.a.Item,{label:"Cidade",name:["location","city"],rules:[{required:!0,message:"O campo \xe9 obrigat\xf3rio"},{max:255,message:"A cidade n\xe3o pode ter mais de 255 caracteres"}],children:Object(Ye.jsx)(Qt.a,{placeholder:"E.g.: Vit\xf3ria"})})}),Object(Ye.jsx)(At.a,{xs:24,lg:8,children:Object(Ye.jsx)(Ht.a.Item,{label:"Telefone",name:"phone",rules:[{required:!0,message:"O campo \xe9 obrigat\xf3rio"},{max:20,message:"O telefone n\xe3o pode ter mais de 20 caracteres"}],children:Object(Ye.jsx)(nn.a,{mask:"(11) 11111-1111",placeholder:"(27) 99999-0000",disabled:e.user&&!(null===(i=e.user)||void 0===i?void 0:i.canSensitiveDataBeUpdated)})})}),Object(Ye.jsx)(At.a,{xs:24,lg:8,children:Object(Ye.jsx)(Ht.a.Item,{label:"CPF",name:"taxpayerId",rules:[{required:!0,message:"O campo \xe9 obrigat\xf3rio"},{max:14,message:"O CPF n\xe3o pode ter mais de 14 caracteres"}],children:Object(Ye.jsx)(nn.a,{mask:"111.111.111-11",placeholder:"111.222.333-44"})})}),Y&&Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(At.a,{xs:24,lg:8,children:Object(Ye.jsx)(Ht.a.Item,{label:"Pre\xe7o por palavra",name:"pricePerWord",rules:[{required:!0,message:"O campo \xe9 obrigat\xf3rio"},{type:"number",min:.01,message:"O valor m\xednimo \xe9 1 centavo"}],children:Object(Ye.jsx)(an,{onChange:function(e,t){u.setFieldsValue({pricePerWord:t})}})})}),[1,2,3].map((function(e,t){return Object(Ye.jsxs)(r.a.Fragment,{children:[Object(Ye.jsx)(At.a,{xs:18,lg:6,children:Object(Ye.jsx)(Ht.a.Item,{label:"Habilidade",name:["skills",t,"name"],rules:[{required:!0,message:"O campo \xe9 obrigat\xf3rio"},{max:50,message:"A habilidade n\xe3o pode ter mais de 50 caracteres"}],children:Object(Ye.jsx)(Qt.a,{placeholder:"E.g.: JavaScript"})})}),Object(Ye.jsx)(At.a,{xs:6,lg:2,children:Object(Ye.jsx)(Ht.a.Item,{label:"%",name:["skills",t,"percentage"],rules:[{required:!0,message:""},{validator:function(e,t){return Object(g.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!isNaN(Number(t))){e.next=2;break}throw new Error("Apenas n\xfameros");case 2:if(!(Number(t)>100)){e.next=4;break}throw new Error("M\xe1ximo \xe9 100");case 4:if(!(Number(t)<0)){e.next=6;break}throw new Error("M\xednimo \xe9 0");case 6:case"end":return e.stop()}}),e)})))()}}],children:Object(Ye.jsx)(Qt.a,{})})})]},t)}))]})]})},"personal"),Object(Ye.jsx)(rn,{tab:"Dados banc\xe1rios",forceRender:!0,children:Object(Ye.jsxs)(Ne.a,{gutter:24,children:[Object(Ye.jsx)(At.a,{xs:24,lg:8,children:Object(Ye.jsx)(Ht.a.Item,{label:"Institui\xe7\xe3o",name:["bankAccount","bankCode"],rules:[{required:!0,message:"O campo \xe9 obrigat\xf3rio"},{max:3,message:"A institui\xe7\xe3o precisa ter 3 caracteres"},{min:3,message:"A institui\xe7\xe3o precisa ter 3 caracteres"}],children:Object(Ye.jsx)(Qt.a,{placeholder:"260"})})}),Object(Ye.jsx)(At.a,{xs:24,lg:8,children:Object(Ye.jsx)(Ht.a.Item,{label:"Ag\xeancia",name:["bankAccount","agency"],rules:[{required:!0,message:"O campo \xe9 obrigat\xf3rio"},{max:10,message:"A ag\xeancia precisa ter no m\xe1ximo 10 caracteres"},{min:1,message:"A ag\xeancia precisa ter no m\xednimo 1 caractere"}],children:Object(Ye.jsx)(Qt.a,{placeholder:"0001"})})}),Object(Ye.jsx)(At.a,{xs:24,lg:8,children:Object(Ye.jsx)(Ht.a.Item,{label:"Conta sem d\xedgito",name:["bankAccount","number"],rules:[{required:!0,message:"O campo \xe9 obrigat\xf3rio"}],children:Object(Ye.jsx)(Qt.a,{placeholder:"12345"})})}),Object(Ye.jsx)(At.a,{xs:24,lg:8,children:Object(Ye.jsx)(Ht.a.Item,{label:"D\xedgito",name:["bankAccount","digit"],rules:[{required:!0,message:"O campo \xe9 obrigat\xf3rio"},{max:1,message:"O d\xedgito precisa ser \xfanico"}],children:Object(Ye.jsx)(Qt.a,{placeholder:"1"})})}),Object(Ye.jsx)(At.a,{xs:24,lg:8,children:Object(Ye.jsx)(Ht.a.Item,{label:"Tipo de conta",name:["bankAccount","type"],rules:[{required:!0,message:"O campo \xe9 obrigat\xf3rio"}],children:Object(Ye.jsxs)($t.a,{placeholder:"Selecione o tipo de conta",children:[Object(Ye.jsx)($t.a.Option,{value:"SAVING",children:"Conta poupan\xe7a"}),Object(Ye.jsx)($t.a.Option,{value:"CHECKING",children:"Conta corrente"})]})})})]})},"bankAccount")]})}),Object(Ye.jsx)(At.a,{xs:24,children:Object(Ye.jsx)(Ne.a,{justify:"end",children:Object(Ye.jsx)(jt.a,{loading:b,type:"primary",htmlType:"submit",children:e.user?"Atualizar usu\xe1rio":"Cadastrar usu\xe1rio"})})})]})})}function sn(){return Yt("Cadastro de usu\xe1rio"),De("Usu\xe1rios/Cadastro"),Object(Ye.jsx)(Ye.Fragment,{children:Object(Ye.jsx)(cn,{})})}var on=n(972);function ln(){var e=Object(a.useState)(),t=Object(ut.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(ut.a)(c,2),i=s[0],o=s[1];return{user:n,fetchUser:Object(a.useCallback)(function(){var e=Object(g.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.UserService.getDetailedUser(t).then(r);case 3:e.next=12;break;case 5:if(e.prev=5,e.t0=e.catch(0),!(e.t0 instanceof Ft.ResourceNotFoundError)){e.next=11;break}o(!0),e.next=12;break;case 11:throw e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),[]),notFound:i,toggleUserStatus:Object(a.useCallback)((function(e){return e.active?y.UserService.deactivateExistingUser(e.id):y.UserService.activateExistingUser(e.id)}),[])}}var un=n(982);function dn(e){return Object(Ye.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:16},children:[Object(Ye.jsx)(un.a,{style:{fontSize:32}}),Object(Ye.jsx)(Pt.a.Title,{style:{color:"#09f"},level:1,children:e.title}),Object(Ye.jsx)(Pt.a.Text,{children:"O recurso que voc\xea est\xe1 procurando n\xe3o foi encontrado"}),Object(Ye.jsx)(i.b,{to:e.actionDestination,children:Object(Ye.jsx)(jt.a,{type:"primary",children:e.actionTitle})})]})}function jn(){Yt("Edi\xe7\xe3o do usu\xe1rio"),De("Usu\xe1rios/Edi\xe7\xe3o");var e=Object(gt.i)(),t=Object(gt.g)(),n=ln(),r=n.user,c=n.fetchUser,s=n.notFound;Object(a.useEffect)((function(){isNaN(Number(e.id))||c(Number(e.id))}),[c,e.id]);var i=Object(a.useCallback)((function(e){return Object(v.a)(Object(v.a)({},e),{},{createdAt:b()(e.createdAt),updatedAt:b()(e.updatedAt),birthdate:b()(e.birthdate)})}),[]);if(isNaN(Number(e.id)))return Object(Ye.jsx)(gt.a,{to:"/usuarios"});if(s)return Object(Ye.jsx)(ze.a,{children:Object(Ye.jsx)(dn,{title:"Usu\xe1rio n\xe3o encontrado",actionDestination:"/usuarios",actionTitle:"Voltar para lista de usu\xe1rios"})});function o(){return(o=Object(g.a)(x.a.mark((function n(a){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.UserService.updateExistingUser(Number(e.id),a).then((function(){t.push("/usuarios"),f.a.success({message:"Usu\xe1rio foi atualizado com sucesso"})}));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return r?Object(Ye.jsx)(Ye.Fragment,{children:Object(Ye.jsx)(cn,{onUpdate:function(e){return o.apply(this,arguments)},user:i(r)})}):Object(Ye.jsx)(on.a,{})}var bn=n(967),pn=n(978),mn=n(88),hn=n(981);function fn(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.user.list})),n=Object(o.c)((function(e){return e.user.list.filter((function(e){return"EDITOR"===e.role}))})),r=Object(o.c)((function(e){return e.user.fetching}));return{fetchUsers:Object(a.useCallback)((function(){return e(T()).unwrap()}),[e]),users:t,editors:n,fetching:r,toggleUserStatus:Object(a.useCallback)(function(){var t=Object(g.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(N(n));case 2:e(T());case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e])}}var On=n(376),xn=n(994),vn=n(375),gn=n(634);function yn(){var e=fn(),t=e.users,n=e.fetchUsers,r=e.toggleUserStatus,c=e.fetching,s=Object(a.useState)(!1),o=Object(ut.a)(s,2),l=o[0],u=o[1],d=Object(a.useCallback)((function(){n().catch((function(e){var t;if(403!==(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.status))throw e;u(!0)}))}),[n]);Object(a.useEffect)((function(){d()}),[d]);var j=function(e,t){return{filterDropdown:function(n){var a=n.selectedKeys,r=n.setSelectedKeys,c=n.confirm,s=n.clearFilters;return Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(Qt.a,{style:{marginBottom:8,display:"block"},value:a[0],placeholder:"Buscar ".concat(t||e),onChange:function(e){r(e.target.value?[e.target.value]:[])},onPressEnter:function(){return c()}}),Object(Ye.jsxs)(It.b,{children:[Object(Ye.jsx)(jt.a,{type:"primary",size:"small",style:{width:90},onClick:function(){return c()},icon:Object(Ye.jsx)(On.a,{}),children:"Buscar"}),Object(Ye.jsx)(jt.a,{onClick:s,size:"small",style:{width:90},children:"Limpar"})]})]})},filterIcon:function(e){return Object(Ye.jsx)(On.a,{style:{color:e?"#0099ff":void 0}})},onFilter:function(t,n){return n[e]?n[e].toString().toLowerCase().includes(t.toLowerCase()):""}}};return l?Object(Ye.jsx)(Bt,{}):Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(Ne.a,{justify:"end",children:Object(Ye.jsx)(jt.a,{onClick:d,loading:c,icon:Object(Ye.jsx)(xn.a,{}),children:"Atualizar"})}),Object(Ye.jsx)(bn.a,{loading:c,dataSource:t,pagination:!1,rowKey:"id",columns:[{title:"Usu\xe1rios",responsive:["xs"],render:function(e){return Object(Ye.jsxs)(pn.b,{column:1,size:"small",children:[Object(Ye.jsx)(pn.b.Item,{label:"Nome",children:e.name}),Object(Ye.jsx)(pn.b.Item,{label:"Email",children:e.email}),Object(Ye.jsx)(pn.b.Item,{label:"Cria\xe7\xe3o",children:Object(Tt.a)(Object(Nt.a)(e.createdAt),"dd/MM/yyyy")}),Object(Ye.jsx)(pn.b.Item,{label:"Perfil",children:Object(Ye.jsx)(Be.a,{color:"MANAGER"===e.role?"red":"blue",children:"EDITOR"===e.role?"Editor":"MANAGER"===e.role?"Gerente":"Assistente"})}),Object(Ye.jsxs)(pn.b.Item,{label:"A\xe7\xf5es",children:[Object(Ye.jsx)(mn.a,{title:"Visualizar usu\xe1rio",children:Object(Ye.jsx)(i.b,{to:"/usuarios/".concat(e.id),children:Object(Ye.jsx)(jt.a,{size:"small",icon:Object(Ye.jsx)(vn.a,{})})})}),Object(Ye.jsx)(mn.a,{title:"Editar usu\xe1rio",children:Object(Ye.jsx)(i.b,{to:"/usuarios/edicao/".concat(e.id),children:Object(Ye.jsx)(jt.a,{size:"small",icon:Object(Ye.jsx)(gn.a,{})})})})]})]})}},{dataIndex:"avatarUrls",title:"",width:48,fixed:"left",responsive:["sm"],render:function(e){return Object(Ye.jsx)(qt.a,{size:"small",src:e.small})}},Object(v.a)(Object(v.a)({dataIndex:"name",title:"Nome"},j("name","nome")),{},{width:160,responsive:["sm"],ellipsis:!0}),Object(v.a)({dataIndex:"email",title:"Email",responsive:["md"],ellipsis:!0,width:240},j("email","Email")),{dataIndex:"role",title:"Perfil",align:"center",responsive:["sm"],width:100,sorter:function(e,t){return e.role.localeCompare(t.role)},render:function(e){return Object(Ye.jsx)(Be.a,{color:"MANAGER"===e?"red":"blue",children:"EDITOR"===e?"Editor":"MANAGER"===e?"Gerente":"Assistente"})}},{dataIndex:"createdAt",title:"Cria\xe7\xe3o",align:"center",responsive:["lg"],sorter:function(e,t){return new Date(e.createdAt)>new Date(t.createdAt)?1:-1},width:120,render:function(e){return Object(Tt.a)(Object(Nt.a)(e),"dd/MM/yyyy")}},{dataIndex:"active",title:"Ativo",align:"center",width:100,responsive:["sm"],render:function(e,t){return Object(Ye.jsx)(hn.a,{disabled:e&&!t.canBeDeactivated||!e&&!t.canBeActivated,onChange:function(){r(t)},checked:e})}},{dataIndex:"id",title:"A\xe7\xf5es",align:"center",width:100,responsive:["sm"],render:function(e){return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(mn.a,{title:"Visualizar usu\xe1rio",placement:"left",children:Object(Ye.jsx)(i.b,{to:"/usuarios/".concat(e),children:Object(Ye.jsx)(jt.a,{size:"small",icon:Object(Ye.jsx)(vn.a,{})})})}),Object(Ye.jsx)(mn.a,{title:"Editar usuario",placement:"right",children:Object(Ye.jsx)(i.b,{to:"/usuarios/edicao/".concat(e),children:Object(Ye.jsx)(jt.a,{size:"small",icon:Object(Ye.jsx)(gn.a,{})})})})]})}}]})]})}function wn(){return Yt("Consulta de usu\xe1rios"),De("Usu\xe1rios/Consulta"),Object(Ye.jsx)(Ne.a,{children:Object(Ye.jsx)(At.a,{xs:24,children:Object(Ye.jsx)(yn,{})})})}var En=n(966),kn=n(635);function Cn(e){return Object(Ye.jsx)(En.a,{disabled:e.disabled,title:e.popConfirmTitle,onConfirm:function(){Qe()({title:e.modalTitle,onOk:e.onConfirm,content:e.modalContent})},children:e.children})}function Sn(){De("Pagamentos/Consulta");var e=wt()().xs,t=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.payment.fetching})),n=Object(o.c)((function(e){return e.payment.paginated})),r=Object(o.c)((function(e){return e.payment.query})),c=Object(o.c)((function(e){return e.payment.selected})),s=Object(a.useCallback)((function(t){return e(C(t))}),[e]),i=Object(a.useCallback)((function(t){return e(S(t))}),[e]);return{payments:n,fetching:t,query:r,selected:c,fetchPayments:Object(a.useCallback)((function(){return e(k()).unwrap()}),[e]),approvePaymentsInBatch:s,setQuery:Object(a.useCallback)((function(t){return e(P(t))}),[e]),setSelected:Object(a.useCallback)((function(t){return e(M(t))}),[e]),deleteExistingPayment:i}}(),n=t.payments,r=t.fetching,c=t.query,s=t.selected,l=t.fetchPayments,u=t.setQuery,d=t.approvePaymentsInBatch,j=t.setSelected,p=t.deleteExistingPayment,m=Object(a.useState)(!1),h=Object(ut.a)(m,2),O=h[0],y=h[1];return Object(a.useEffect)((function(){l().catch((function(e){var t;if(403!==(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.status))throw e;y(!0)}))}),[l]),O?Object(Ye.jsx)(Bt,{}):Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(Ne.a,{justify:"space-between",gutter:24,children:Object(Ye.jsxs)(It.b,{style:Object(v.a)({width:"100%"},!e&&{justifyContent:"space-between"}),direction:e?"vertical":"horizontal",children:[Object(Ye.jsx)(Cn,{popConfirmTitle:1===s.length?"Voc\xea deseja aprovar o agendamento selecionado?":"Voc\xea deseja aprovar os agendamentos selecionados?",disabled:0===s.length,modalTitle:"Aprovar agendamento",modalContent:"Esta \xe9 uma a\xe7\xe3o irrevers\xedvel. Ao aprovar um agendamento, ele n\xe3o poder\xe1 ser removido!",onConfirm:Object(g.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(s);case 2:f.a.success({message:"Os pagamentos selecionados foram aprovados"});case 3:case"end":return e.stop()}}),e)}))),children:Object(Ye.jsx)(jt.a,{block:e,type:"primary",disabled:0===s.length,children:"Aprovar agendamentos"})}),Object(Ye.jsx)(Jt.a.MonthPicker,{style:{width:e?"100%":240},format:"MMMM - YYYY",placeholder:"Filtrar por m\xeas",onChange:function(e){u({scheduledToYearMonth:e?e.format("YYYY-MM"):void 0})}})]})}),Object(Ye.jsx)(bn.a,{dataSource:null===n||void 0===n?void 0:n.content,rowKey:"id",loading:r,onChange:function(e,t,n){var a=n.order,r=null===a||void 0===a?void 0:a.replace("end","");r&&r!==c.sort[1]&&u({sort:[c.sort[0],r]})},pagination:{current:c.page?c.page+1:1,onChange:function(e){return u({page:e-1})},total:null===n||void 0===n?void 0:n.totalElements,pageSize:c.size},rowSelection:{selectedRowKeys:s,onChange:j,getCheckboxProps:function(e){return e.canBeApproved?{}:{disabled:!0}}},columns:[{title:"Agendamentos",responsive:["xs"],render:function(t){return Object(Ye.jsxs)(pn.b,{column:1,size:"small",children:[Object(Ye.jsx)(pn.b.Item,{label:"Editor",children:t.payee.name}),Object(Ye.jsx)(pn.b.Item,{label:"Agendamento",children:b()(t.scheduledTo).format("DD/MM/YYYY")}),Object(Ye.jsx)(pn.b.Item,{label:"Per\xedodo",children:function(){var e=b()(t.accountingPeriod.startsOn).format("DD/MM/YYYY"),n=b()(t.accountingPeriod.endsOn).format("DD/MM/YYYY");return"".concat(e," - ").concat(n)}()}),Object(Ye.jsx)(pn.b.Item,{label:"Status",children:Object(Ye.jsx)(Be.a,{color:t.approvedAt?"green":"warning",children:t.approvedAt?"Aprovado em ".concat(b()(t.approvedAt).format("DD/MM/YYYY")):"Aguardando aprova\xe7\xe3o"})}),Object(Ye.jsxs)(pn.b.Item,{label:"A\xe7\xf5es",children:[Object(Ye.jsx)(mn.a,{title:"Detalhar",placement:e?"top":"left",children:Object(Ye.jsx)(i.b,{to:"/pagamentos/".concat(t.id),children:Object(Ye.jsx)(jt.a,{size:"small",icon:Object(Ye.jsx)(vn.a,{})})})}),Object(Ye.jsx)(En.a,{title:"Remover agendamento?",disabled:!t.canBeDeleted,onConfirm:function(){Qe()({title:"Remover agendamento",cancelText:"Cancelar",onOk:function(){p(t.id)},content:"Esta \xe9 uma a\xe7\xe3o irrevers\xedvel. Ao remover um agendamento, ele n\xe3o poder\xe1 ser recuperado!"})},children:Object(Ye.jsx)(mn.a,{title:t.canBeDeleted?"Remover":"Pagamento j\xe1 aprovado",placement:e?"bottom":"right",children:Object(Ye.jsx)(jt.a,{disabled:!t.canBeDeleted,icon:Object(Ye.jsx)(kn.a,{}),size:"small"})})})]})]})}},{dataIndex:"payee",title:"Editor",responsive:["sm"],ellipsis:!0,width:180,render:function(e){return Object(Ye.jsx)(i.b,{to:"/usuarios/".concat(e.id),children:e.name})}},{dataIndex:"scheduledTo",title:"Agendamento",align:"center",width:140,sorter:function(e,t){return 0},responsive:["sm"],render:function(e){return b()(e).format("DD/MM/YYYY")}},{dataIndex:"accountingPeriod",title:"Per\xedodo",align:"center",responsive:["sm"],width:240,render:function(e){var t=b()(e.startsOn).format("DD/MM/YYYY"),n=b()(e.endsOn).format("DD/MM/YYYY");return"".concat(t," - ").concat(n)}},{dataIndex:"approvedAt",title:"Status",align:"center",width:180,responsive:["sm"],render:function(e){var t=b()(e).format("DD/MM/YYYY");return Object(Ye.jsx)(Be.a,{color:e?"green":"warning",children:e?"Aprovado em ".concat(t):"Aguardando aprova\xe7\xe3o"})}},{dataIndex:"id",title:"A\xe7\xf5es",responsive:["sm"],width:100,render:function(e,t){return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(mn.a,{title:"Detalhar",placement:"left",children:Object(Ye.jsx)(i.b,{to:"/pagamentos/".concat(e),children:Object(Ye.jsx)(jt.a,{size:"small",icon:Object(Ye.jsx)(vn.a,{})})})}),Object(Ye.jsx)(En.a,{title:"Remover agendamento?",disabled:!t.canBeDeleted,onConfirm:function(){Qe()({title:"Remover agendamento",cancelText:"Cancelar",onOk:function(){p(e)},content:"Esta \xe9 uma a\xe7\xe3o irrevers\xedvel. Ao remover um agendamento, ele n\xe3o poder\xe1 ser recuperado!"})},children:Object(Ye.jsx)(mn.a,{title:t.canBeDeleted?"Remover":"Pagamento j\xe1 aprovado",placement:"right",children:Object(Ye.jsx)(jt.a,{size:"small",disabled:!t.canBeDeleted,icon:Object(Ye.jsx)(kn.a,{})})})})]})}}]})]})}var Pn=n(633),In=n(366),An=n(619),Dn=n.n(An),Yn=n(632);function Mn(){var e=Object(a.useState)([]),t=Object(ut.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(),s=Object(ut.a)(c,2),i=s[0],o=s[1],l=Object(a.useState)(),u=Object(ut.a)(l,2),d=u[0],j=u[1],b=Object(a.useState)(!1),p=Object(ut.a)(b,2),m=p[0],h=p[1],f=Object(a.useState)(!1),O=Object(ut.a)(f,2),v=O[0],w=O[1],E=Object(a.useState)(!1),k=Object(ut.a)(E,2),C=k[0],S=k[1],P=Object(a.useState)(!1),I=Object(ut.a)(P,2),A=I[0],D=I[1],Y=Object(a.useState)(!1),M=Object(ut.a)(Y,2),F=M[0],T=M[1],N=Object(a.useState)(!1),R=Object(ut.a)(N,2),U=R[0],z=R[1],B=Object(a.useState)(!1),V=Object(ut.a)(B,2),q=V[0],L=V[1],X=Object(a.useCallback)(function(){var e=Object(g.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),e.next=4,y.PaymentService.getExistingPayment(t);case 4:n=e.sent,o(n),e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(0),!(e.t0 instanceof Ft.ResourceNotFoundError)){e.next=13;break}return z(!0),e.abrupt("return");case 13:throw e.t0;case 14:return e.prev=14,w(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,8,14,17]])})));return function(t){return e.apply(this,arguments)}}(),[]),_=Object(a.useCallback)(function(){var e=Object(g.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(!0),e.next=4,y.PaymentService.approvePayment(t);case 4:return e.prev=4,S(!1),e.finish(4);case 7:case"end":return e.stop()}}),e,null,[[0,,4,7]])})));return function(t){return e.apply(this,arguments)}}(),[]),W=Object(a.useCallback)(function(){var e=Object(g.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,y.PaymentService.getExistingPaymentPosts(t);case 4:n=e.sent,r(n),e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(0),!(e.t0 instanceof Ft.ResourceNotFoundError)){e.next=13;break}return L(!0),e.abrupt("return");case 13:throw e.t0;case 14:return e.prev=14,h(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,8,14,17]])})));return function(t){return e.apply(this,arguments)}}(),[]),G=Object(a.useCallback)(function(){var e=Object(g.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,D(!0),e.next=4,y.PaymentService.getPaymentPreview(t);case 4:n=e.sent,j(n);case 6:return e.prev=6,D(!1),e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[0,,6,9]])})));return function(t){return e.apply(this,arguments)}}(),[]),H=Object(a.useCallback)(function(){var e=Object(g.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,T(!0),e.next=4,y.PaymentService.insertNewPayment(t);case 4:return e.prev=4,T(!1),e.finish(4);case 7:case"end":return e.stop()}}),e,null,[[0,,4,7]])})));return function(t){return e.apply(this,arguments)}}(),[]);return{fetchPayment:X,fetchPosts:W,approvePayment:_,fetchPaymentPreview:G,fetchingPayment:v,fetchingPosts:m,approvingPayment:C,fetchingPaymentPreview:A,paymentNotFound:U,postsNotFound:q,posts:n,payment:i,paymentPreview:d,clearPaymentPreview:Object(a.useCallback)((function(){j(void 0)}),[]),schedulePayment:H,schedulingPayment:F}}function Fn(e){return null===e||void 0===e?void 0:e.toLocaleString("pt-br",{style:"currency",currency:"BRL",maximumFractionDigits:2})}var Tn=n.p+"static/media/tax.d0747424.svg",Nn=n.p+"static/media/confusing.112a2c6d.svg";function Rn(e){return Object(Ye.jsx)(ze.a,{bordered:!1,children:Object(Ye.jsxs)(Ne.a,{justify:"center",style:{textAlign:"center"},children:[Object(Ye.jsx)("img",{width:240,src:e.error?Nn:Tn,alt:"tax"},e.error?"errorImg":"img"),Object(Ye.jsx)(Pt.a.Title,{level:3,style:{maxWidth:360},children:e.error?e.error.message:"Selecione um editor e um per\xedodo"}),Object(Ye.jsx)(Pt.a.Text,{children:'Para podermos gerar uma pr\xe9via do pagamento, por favor, selecione preencha os campos "Editor" e "Per\xedodo"'})]})})}function Un(){var e=Object(In.useForm)(),t=Object(ut.a)(e,1)[0],n=fn(),r=n.editors,c=n.fetchUsers,s=n.fetching,i=Object(gt.g)(),o=Mn(),l=o.fetchingPaymentPreview,u=o.clearPaymentPreview,d=o.paymentPreview,j=o.fetchPaymentPreview,p=o.schedulePayment,m=o.schedulingPayment,h=Object(a.useState)(""),O=Object(ut.a)(h,2),y=O[0],w=O[1],E=Object(a.useState)(),k=Object(ut.a)(E,2),C=k[0],S=k[1];Object(a.useEffect)((function(){c()}),[c]);var P=Object(a.useCallback)((function(){var e=t.getFieldsValue().scheduledTo;w(e)}),[t]),I=Object(a.useCallback)((function(){S(void 0)}),[]),A=Object(a.useCallback)(Object(g.a)(x.a.mark((function e(){var n,a,r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.getFieldsValue(),a=n.accountingPeriod,r=n.bonuses,!(c=n.payee)||!a){e.next=18;break}if(!(c.id&&a.endsOn&&a.startsOn)){e.next=16;break}return e.prev=3,e.next=6,j({payee:c,accountingPeriod:a,bonuses:r||[]});case 6:I(),e.next=14;break;case 9:throw e.prev=9,e.t0=e.catch(3),u(),e.t0 instanceof Ft.BusinessError&&S(e.t0),e.t0;case 14:e.next=18;break;case 16:u(),I();case 18:case"end":return e.stop()}}),e,null,[[3,9]])}))),[t,j,u,I]),D=Object(a.useCallback)((function(e){var t=Object(ut.a)(e,1)[0];Array.isArray(null===t||void 0===t?void 0:t.name)&&((t.name.includes("payee")||t.name.includes("_accountingPeriod")||t.name.includes("bonuses"))&&A(),t.name.includes("scheduledTo")&&P())}),[A,P]),Y=Dn()(D,1e3),M=Object(a.useCallback)(function(){var e=Object(g.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={accountingPeriod:t.accountingPeriod,payee:t.payee,bonuses:t.bonuses||[],scheduledTo:b()(t.scheduledTo).format("YYYY-MM-DD")},e.next=3,p(n);case 3:f.a.success({message:"Pagamento agendado com sucesso"}),i.push("/pagamentos");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[p,i]);return Object(Ye.jsxs)(Ht.a,{form:t,layout:"vertical",onFieldsChange:Y,onFinish:M,children:[Object(Ye.jsxs)(Ne.a,{gutter:24,children:[Object(Ye.jsx)(At.a,{xs:24,lg:8,children:Object(Ye.jsx)(Ht.a.Item,{rules:[{required:!0,message:"O campo \xe9 obrigat\xf3rio"}],label:"Editor",name:["payee","id"],children:Object(Ye.jsx)($t.a,{showSearch:!0,loading:s,placeholder:s?"Carregando editores...":"Selecione um editor",filterOption:function(e,t){return(null===t||void 0===t?void 0:t.children.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().indexOf(e.toLowerCase()))>=0||(null===t||void 0===t?void 0:t.children).toLowerCase().indexOf(e.toLowerCase())>=0},children:r.map((function(e){return Object(Ye.jsx)($t.a.Option,{value:e.id,children:e.name},e.id)}))})})}),Object(Ye.jsxs)(At.a,{xs:24,lg:8,children:[Object(Ye.jsx)(Ht.a.Item,{hidden:!0,name:["accountingPeriod","startsOn"],children:Object(Ye.jsx)(Qt.a,{hidden:!0})}),Object(Ye.jsx)(Ht.a.Item,{hidden:!0,name:["accountingPeriod","endsOn"],children:Object(Ye.jsx)(Qt.a,{hidden:!0})}),Object(Ye.jsx)(Ht.a.Item,{rules:[{required:!0,message:"O campo \xe9 obrigat\xf3rio"}],label:"Per\xedodo",name:"_accountingPeriod",children:Object(Ye.jsx)(Jt.a.RangePicker,{style:{width:"100%"},format:"DD/MM/YYYY",onChange:function(e){if(null!==e){var n=e,a=Object(ut.a)(n,2),r=a[0],c=a[1];t.setFieldsValue({accountingPeriod:{startsOn:r.format("YYYY-MM-DD"),endsOn:c.format("YYYY-MM-DD")}})}else t.setFieldsValue({accountingPeriod:{startsOn:void 0,endsOn:void 0}})}})})]}),Object(Ye.jsx)(At.a,{xs:24,lg:8,children:Object(Ye.jsx)(Ht.a.Item,{label:"Agendamento",name:"scheduledTo",rules:[{required:!0,message:"O campo \xe9 obrigat\xf3rio"}],children:Object(Ye.jsx)(Jt.a,{disabledDate:function(e){return e.isBefore(b()())||e.isAfter(b()().add(7,"days"))},style:{width:"100%"},format:"DD/MM/YYYY"})})}),Object(Ye.jsx)(Dt.a,{}),Object(Ye.jsx)(At.a,{xs:24,lg:12,children:l?Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(on.a,{}),Object(Ye.jsx)(on.a,{title:!1})]}):d?Object(Ye.jsxs)(Gt.a,{defaultActiveKey:"payment",children:[Object(Ye.jsx)(Gt.a.TabPane,{tab:"Demonstrativo",children:Object(Ye.jsxs)(pn.b,{labelStyle:{width:160},bordered:!0,size:"small",column:1,children:[Object(Ye.jsx)(pn.b.Item,{label:"Editor",children:null===d||void 0===d?void 0:d.payee.name}),Object(Ye.jsx)(pn.b.Item,{label:"Per\xedodo",children:Object(Ye.jsxs)(It.b,{children:[b()(null===d||void 0===d?void 0:d.accountingPeriod.startsOn).format("DD/MM/YYYY"),Object(Ye.jsx)("span",{children:"\xe0"}),b()(null===d||void 0===d?void 0:d.accountingPeriod.endsOn).format("DD/MM/YYYY")]})}),Object(Ye.jsx)(pn.b.Item,{label:"Agendamento",children:y&&b()(y).format("DD/MM/YYYY")}),Object(Ye.jsx)(pn.b.Item,{label:"Palavras",children:null===d||void 0===d?void 0:d.earnings.words}),Object(Ye.jsx)(pn.b.Item,{label:"Ganhos",children:Fn(null===d||void 0===d?void 0:d.grandTotalAmount)}),null===d||void 0===d?void 0:d.bonuses.map((function(e,t){return Object(Ye.jsx)(pn.b.Item,{label:Object(Ye.jsxs)(It.b,{children:["B\xf4nus ".concat(t+1),Object(Ye.jsx)(mn.a,{title:e.title,children:Object(Ye.jsx)(Yn.a,{style:{color:"#09f",fontSize:18}})})]}),children:Fn(e.amount)},t)})),Object(Ye.jsx)(pn.b.Item,{label:"Ganhos de posts",children:Fn(null===d||void 0===d?void 0:d.earnings.totalAmount)})]})},"payment"),Object(Ye.jsx)(Gt.a.TabPane,{tab:"Dados banc\xe1rios",children:Object(Ye.jsxs)(pn.b,{bordered:!0,labelStyle:{width:160},size:"small",column:1,children:[Object(Ye.jsx)(pn.b.Item,{label:"C\xf3digo do Banco",children:null===d||void 0===d?void 0:d.bankAccount.bankCode}),Object(Ye.jsx)(pn.b.Item,{label:"N\xfamero da conta",children:null===d||void 0===d?void 0:d.bankAccount.number}),Object(Ye.jsx)(pn.b.Item,{label:"D\xedgito da conta",children:null===d||void 0===d?void 0:d.bankAccount.digit}),Object(Ye.jsx)(pn.b.Item,{label:"Ag\xeancia",children:null===d||void 0===d?void 0:d.bankAccount.agency}),Object(Ye.jsx)(pn.b.Item,{label:"Tipo de conta",children:"CHECKING"===(null===d||void 0===d?void 0:d.bankAccount.type)?"Conta corrente":"Conta poupan\xe7a"})]})},"bankAccount")]}):Object(Ye.jsx)(Rn,{error:C})}),Object(Ye.jsx)(At.a,{xs:24,lg:12,children:Object(Ye.jsx)(Ht.a.List,{name:"bonuses",children:function(e,n){var a=n.add,r=n.remove;return Object(Ye.jsxs)(Ye.Fragment,{children:[e.map((function(e){return Object(Ye.jsxs)(Ne.a,{gutter:24,children:[Object(Ye.jsx)(At.a,{xs:24,lg:14,children:Object(Ye.jsx)(Ht.a.Item,Object(v.a)(Object(v.a)({},e),{},{name:[e.name,"title"],label:"Descri\xe7\xe3o",rules:[{required:!0,message:"O campo \xe9 obrigat\xf3rio"}],children:Object(Ye.jsx)(Qt.a,{placeholder:"E.g.: 1 milh\xe3o de views"})}))}),Object(Ye.jsx)(At.a,{xs:24,lg:6,children:Object(Ye.jsx)(Ht.a.Item,Object(v.a)(Object(v.a)({initialValue:0},e),{},{name:[e.name,"amount"],label:"Valor",rules:[{required:!0,message:"O campo \xe9 obrigat\xf3rio"}],children:Object(Ye.jsx)(an,{onChange:function(n,a){var r=t.getFieldsValue().bonuses;t.setFieldsValue({bonuses:null===r||void 0===r?void 0:r.map((function(t,n){return n===e.name?{title:t.title,amount:a}:t}))})}})}))}),Object(Ye.jsx)(At.a,{xs:24,lg:4,children:Object(Ye.jsx)(Ht.a.Item,{label:"Remover",children:Object(Ye.jsx)(jt.a,{onClick:function(){return r(e.name)},icon:Object(Ye.jsx)(kn.a,{}),danger:!0,size:"small"})})})]},e.name)})),Object(Ye.jsx)(jt.a,{type:"dashed",onClick:function(){return a()},block:!0,icon:Object(Ye.jsx)(Pn.a,{}),children:"Adicionar b\xf4nus"})]})}})})]}),Object(Ye.jsx)(Ne.a,{justify:"end",children:Object(Ye.jsx)(jt.a,{type:"primary",htmlType:"submit",loading:m,children:"Cadastrar agendamento"})})]})}function zn(){return De("Pagamentos/Cadastro"),Object(Ye.jsx)(Ye.Fragment,{children:Object(Ye.jsx)(Un,{})})}var Bn=n(995);function Vn(e){var t=Object(o.b)(),n=Object(o.c)((function(t){return"EXPENSE"===e?t.cashFlow.expense.query:t.cashFlow.revenue.query})),r=Object(o.c)((function(t){return"EXPENSE"===e?t.cashFlow.expense.list:t.cashFlow.revenue.list})),c=Object(o.c)((function(t){return"EXPENSE"===e?t.cashFlow.expense.fetching:t.cashFlow.revenue.fetching})),s=Object(o.c)((function(t){return"EXPENSE"===e?t.cashFlow.expense.selected:t.cashFlow.revenue.selected})),i=Object(a.useCallback)((function(){return t("EXPENSE"===e?z():$()).unwrap()}),[t,e]),l=Object(a.useCallback)((function(n){return t("EXPENSE"===e?B(n):Z(n)).unwrap()}),[t,e]),u=Object(a.useCallback)((function(n,a){return t("EXPENSE"===e?V({entryId:n,entry:a}):ee({entryId:n,entry:a})).unwrap()}),[t,e]),d=Object(a.useCallback)((function(n){return t("EXPENSE"===e?q(n):te(n)).unwrap()}),[t,e]),j=Object(a.useCallback)((function(n){return t("EXPENSE"===e?L(n):ne(n))}),[t,e]),b=Object(a.useCallback)((function(n){return t("EXPENSE"===e?H(n):ie(n))}),[t,e]);return{entries:r,query:n,selected:s,fetching:c,fetchEntries:i,removeEntries:j,setQuery:Object(a.useCallback)((function(n){return t("EXPENSE"===e?X(n):ae(n))}),[t,e]),setSelected:b,createEntry:l,updateEntry:u,removeEntry:d}}function qn(e){var t=e.type,n=Object(gt.h)(),r=Object(gt.g)(),c=Vn(t),s=c.entries,i=c.fetching,o=c.fetchEntries,l=c.setQuery,u=c.selected,d=c.setSelected,j=c.removeEntry,p=Object(a.useState)(!1),m=Object(ut.a)(p,2),h=m[0],f=m[1],O=Object(a.useRef)(!1);return Object(a.useEffect)((function(){o().catch((function(e){var t;if(403!==(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.status))throw e;f(!0)}))}),[o]),Object(a.useEffect)((function(){if(O.current){var e=new URLSearchParams(n.search).get("yearMonth");e&&l({yearMonth:e})}else O.current=!0}),[n.search,l]),h?Object(Ye.jsx)(Bt,{}):Object(Ye.jsx)(bn.a,{dataSource:s,loading:i,rowKey:"id",rowSelection:{selectedRowKeys:u,onChange:d,getCheckboxProps:function(e){return e.canBeDeleted?{}:{disabled:!0}}},columns:[{dataIndex:"id",title:"EXPENSE"===t?"Despesas":"Receitas",responsive:["xs"],render:function(n,a){return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsxs)(pn.b,{column:1,children:[Object(Ye.jsx)(pn.b.Item,{label:"Descri\xe7\xe3o",children:a.description}),Object(Ye.jsx)(pn.b.Item,{label:"Categoria",children:a.category.name}),Object(Ye.jsx)(pn.b.Item,{label:"Data",children:b()(a.transactedOn).format("DD/MM/YYYY")}),Object(Ye.jsx)(pn.b.Item,{label:"Valor",children:Fn(a.amount)})]}),Object(Ye.jsxs)(It.b,{children:[Object(Ye.jsx)(Cn,{popConfirmTitle:"EXPENSE"===t?"Remover despesa?":"Remover receita?",modalTitle:"EXPENSE"===t?"Deseja mesmo remover essa despesa?":"Deseja mesmo remover esta receita?",modalContent:"EXPENSE"===t?"Remover uma despesa pode gerar um impacto negativo no gr\xe1fico de receitas e despesas. Esta a\xe7\xe3o \xe9 irrevers\xedvel":"Remover uma receita pode gerar um impacto negativo no gr\xe1fico de receitas e despesas. Esta a\xe7\xe3o \xe9 irrevers\xedvel",onConfirm:Object(g.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(a.id);case 2:case"end":return e.stop()}}),e)}))),disabled:!a.canBeDeleted,children:Object(Ye.jsx)(jt.a,{type:"text",size:"small",icon:Object(Ye.jsx)(kn.a,{}),danger:!0})}),Object(Ye.jsx)(jt.a,{type:"text",size:"small",icon:Object(Ye.jsx)(gn.a,{}),onClick:function(){return e.onEdit(a.id)}}),Object(Ye.jsx)(jt.a,{type:"text",size:"small",icon:Object(Ye.jsx)(vn.a,{}),onClick:function(){e.onDetail(a.id)}})]})]})}},{dataIndex:"description",title:"Descri\xe7\xe3o",width:300,ellipsis:!0,responsive:["sm"],render:function(e){return Object(Ye.jsx)(mn.a,{title:e,children:e})}},{dataIndex:"category",title:"Categoria",align:"center",width:120,responsive:["sm"],render:function(e){return Object(Ye.jsx)(Be.a,{children:e.name})}},{dataIndex:"transactedOn",title:"Data",align:"center",responsive:["sm"],width:120,filterDropdown:function(){return Object(Ye.jsx)(ze.a,{children:Object(Ye.jsx)(Jt.a.MonthPicker,{format:"YYYY - MMMM",allowClear:!1,onChange:function(e){r.push({search:"yearMonth=".concat((null===e||void 0===e?void 0:e.format("YYYY-MM"))||b()().format("YYYY-MM"))})}})})},render:function(e){return b()(e).format("DD/MM/YYYY")}},{dataIndex:"amount",title:"Valor",align:"right",width:120,responsive:["sm"],render:Fn},{dataIndex:"id",title:"A\xe7\xf5es",align:"right",responsive:["sm"],width:120,render:function(n,a){return Object(Ye.jsxs)(It.b,{children:[Object(Ye.jsx)(Cn,{popConfirmTitle:"EXPENSE"===t?"Remover despesa?":"Remover receita?",modalTitle:"EXPENSE"===t?"Deseja mesmo remover essa despesa?":"Deseja mesmo remover esta receita?",modalContent:"EXPENSE"===t?"Remover uma despesa pode gerar um impacto negativo no gr\xe1fico de receitas e despesas. Esta a\xe7\xe3o \xe9 irrevers\xedvel":"Remover uma receita pode gerar um impacto negativo no gr\xe1fico de receitas e despesas. Esta a\xe7\xe3o \xe9 irrevers\xedvel",onConfirm:Object(g.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(n);case 2:case"end":return e.stop()}}),e)}))),disabled:!a.canBeDeleted,children:Object(Ye.jsx)(jt.a,{type:"text",size:"small",icon:Object(Ye.jsx)(kn.a,{}),disabled:!a.canBeDeleted,danger:!0})}),Object(Ye.jsx)(jt.a,{type:"text",size:"small",icon:Object(Ye.jsx)(gn.a,{}),disabled:!a.canBeEdited,onClick:function(){return e.onEdit(n)}}),Object(Ye.jsx)(jt.a,{type:"text",size:"small",icon:Object(Ye.jsx)(vn.a,{}),onClick:function(){e.onDetail(n)}})]})}}]})}var Ln=n(180),Xn=n.n(Ln),_n=n(371);function Wn(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.cashFlow.category.fetching}));return{expenses:Object(o.c)((function(e){return e.cashFlow.category.expenses})),revenues:Object(o.c)((function(e){return e.cashFlow.category.revenues})),fetching:t,fetchCategories:Object(a.useCallback)((function(){return e(ue()).unwrap()}),[e]),createCategory:Object(a.useCallback)((function(t){return e(de(t)).unwrap()}),[e]),deleteCategory:Object(a.useCallback)((function(t){return e(je(t)).unwrap()}),[e])}}function Gn(e){var t=wt()().xs,n=Wn(),r=n.expenses,c=n.fetchCategories,s=n.fetching,i=n.revenues,o=n.deleteCategory,l=Object(a.useState)(!1),u=Object(ut.a)(l,2),d=u[0],j=u[1],b=Object(a.useCallback)((function(){return j(!0)}),[]),p=Object(a.useCallback)((function(){return j(!1)}),[]),m=Object(a.useState)(!1),h=Object(ut.a)(m,2),O=h[0],v=h[1];return Object(a.useEffect)((function(){c().catch((function(e){var t;if(403!==(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.status))throw e;v(!0)}))}),[c]),O?Object(Ye.jsx)(Bt,{}):Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(Xn.a,{footer:null,title:"Adicionar categoria",visible:d,onCancel:p,destroyOnClose:!0,children:Object(Ye.jsx)(Hn,{onSuccess:function(){p(),f.a.success({message:"Categoria cadastrada com sucesso"})}})}),Object(Ye.jsxs)(Ne.a,{justify:"space-between",style:{marginBottom:16},children:[Object(Ye.jsx)(jt.a,{onClick:c,icon:Object(Ye.jsx)(xn.a,{}),children:t?"Atualizar":"Atualizar categorias"}),Object(Ye.jsx)(jt.a,{onClick:b,icon:Object(Ye.jsx)(ht.a,{}),type:"primary",children:t?"Adicionar":"Adicionar categoria"})]}),Object(Ye.jsx)(bn.a,{size:"small",rowKey:"id",loading:s,dataSource:"EXPENSE"===e.type?r:i,columns:[{dataIndex:"name",title:"Descri\xe7\xe3o"},{dataIndex:"totalEntries",title:"V\xednculos",align:"right"},{dataIndex:"id",title:"A\xe7\xf5es",align:"right",render:function(e,t){return Object(Ye.jsx)(En.a,{title:"Remover categoria?",disabled:!t.canBeDeleted,onConfirm:Object(g.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o(e);case 2:f.a.success({message:"Categoria removida com sucesso"});case 3:case"end":return t.stop()}}),t)}))),children:Object(Ye.jsx)(jt.a,{danger:!0,type:"ghost",size:"small",icon:Object(Ye.jsx)(kn.a,{}),disabled:!t.canBeDeleted})})}}]})]})}function Hn(e){var t=e.onSuccess,n=Wn().createCategory,r=Object(a.useCallback)(function(){var e=Object(g.a)(x.a.mark((function e(a){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(v.a)(Object(v.a)({},a),{},{type:"EXPENSE"}),e.next=3,n(r);case 3:t();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,t]);return Object(Ye.jsx)(Ht.a,{layout:"vertical",onFinish:r,children:Object(Ye.jsxs)(Ne.a,{justify:"end",children:[Object(Ye.jsx)(At.a,{xs:24,children:Object(Ye.jsx)(Ht.a.Item,{label:"Categoria",name:"name",rules:[{required:!0,message:"O nome da categoria \xe9 obrigat\xf3rio"}],children:Object(Ye.jsx)(Qt.a,{placeholder:"E.g.: Infra"})})}),Object(Ye.jsx)(jt.a,{type:"primary",htmlType:"submit",icon:Object(Ye.jsx)(_n.a,{}),children:"Cadastrar categoria"})]})})}function Kn(e){var t=e.type,n=e.onSuccess,r=e.editingEntry,c=Object(a.useState)(!1),s=Object(ut.a)(c,2),i=s[0],o=s[1],l=Object(In.useForm)(),u=Object(ut.a)(l,1)[0],d=Wn(),j=d.revenues,p=d.expenses,m=d.fetching,h=d.fetchCategories,f=Vn(t),O=f.createEntry,w=f.fetching,E=f.updateEntry,k=Object(a.useState)(!1),C=Object(ut.a)(k,2),S=C[0],P=C[1];Object(a.useEffect)((function(){h().catch((function(e){var t;if(403!==(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.status))throw e;P(!0)}))}),[h]),Object(a.useEffect)((function(){r&&(o(!0),y.CashFlowService.getExistingEntry(r).then((function(e){return Object(v.a)(Object(v.a)({},e),{},{transactedOn:b()(e.transactedOn)})})).then(u.setFieldsValue).finally((function(){return o(!1)})))}),[r,u]);var I=Object(a.useMemo)((function(){return"EXPENSE"===t?p:j}),[p,j,t]),A=Object(a.useCallback)(function(){var e=Object(g.a)(x.a.mark((function e(a){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=Object(v.a)(Object(v.a)({},a),{},{transactedOn:a.transactedOn.format("YYYY-MM-DD"),type:t}),!r){e.next=6;break}return e.next=4,E(r,c);case 4:e.next=8;break;case 6:return e.next=8,O(c);case 8:n();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,O,n,E,r]);return S?Object(Ye.jsx)(Bt,{}):i?Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(on.a,{}),Object(Ye.jsx)(on.a,{title:!1}),Object(Ye.jsx)(on.a,{title:!1})]}):Object(Ye.jsxs)(Ht.a,{autoComplete:"off",form:u,layout:"vertical",onFinish:A,children:[Object(Ye.jsxs)(Ne.a,{gutter:16,children:[Object(Ye.jsx)(At.a,{xs:24,children:Object(Ye.jsx)(Ht.a.Item,{label:"Descri\xe7\xe3o",name:"description",rules:[{required:!0,message:"Campo obrigat\xf3rio"}],children:Object(Ye.jsx)(Qt.a,{placeholder:"Pagamento da AWS"})})}),Object(Ye.jsx)(At.a,{xs:24,children:Object(Ye.jsx)(Ht.a.Item,{label:"Categoria",name:["category","id"],rules:[{required:!0,message:"Campo obrigat\xf3rio"}],children:Object(Ye.jsx)($t.a,{loading:m,placeholder:"Selecione uma categoria",children:I.map((function(e){return Object(Ye.jsx)($t.a.Option,{value:e.id,children:e.name},e.id)}))})})}),Object(Ye.jsx)(At.a,{xs:24,lg:12,children:Object(Ye.jsx)(Ht.a.Item,{label:"Montante",name:"amount",rules:[{required:!0,message:"Campo obrigat\xf3rio"}],children:Object(Ye.jsx)(an,{defaultValue:"R$ 0,00",onChange:function(e,t){return u.setFieldsValue({amount:t})}})})}),Object(Ye.jsx)(At.a,{xs:24,lg:12,children:Object(Ye.jsx)(Ht.a.Item,{label:"EXPENSE"===t?"Data da sa\xedda":"Data da entrada",name:"transactedOn",rules:[{required:!0,message:"Campo obrigat\xf3rio"}],children:Object(Ye.jsx)(Jt.a,{format:"DD/MM/YYYY",style:{width:"100%"},disabledDate:function(e){return e.isAfter(b()())}})})})]}),Object(Ye.jsx)(Dt.a,{style:{marginTop:0}}),Object(Ye.jsx)(Ne.a,{justify:"end",children:Object(Ye.jsxs)(It.b,{children:[Object(Ye.jsx)(jt.a,{children:"Cancelar"}),Object(Ye.jsxs)(jt.a,{loading:w,type:"primary",htmlType:"submit",children:[r?"Atualizar":"Cadastrar"," ","EXPENSE"===t?"despesa":"receita"]})]})})]})}function Qn(e){var t=e.entryId,n=Object(a.useState)(),r=Object(ut.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(!1),o=Object(ut.a)(i,2),l=o[0],u=o[1],d=Object(a.useCallback)((function(e){u(!0),y.CashFlowService.getExistingEntry(e).then(s).finally((function(){return u(!1)}))}),[]);return Object(a.useEffect)((function(){d(t)}),[d,t]),l?Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(on.a,{}),Object(Ye.jsx)(on.a,{title:!1}),Object(Ye.jsx)(on.a,{title:!1})]}):Object(Ye.jsxs)(pn.b,{column:1,bordered:!0,size:"small",children:[Object(Ye.jsx)(pn.b.Item,{label:"Descri\xe7\xe3o",children:null===c||void 0===c?void 0:c.description}),Object(Ye.jsx)(pn.b.Item,{label:"Categoria",children:null===c||void 0===c?void 0:c.category.name}),Object(Ye.jsx)(pn.b.Item,{label:"Data de entrada",children:b()(null===c||void 0===c?void 0:c.transactedOn).format("DD/MM/YYYY")}),Object(Ye.jsx)(pn.b.Item,{label:"Valor",children:Fn(null===c||void 0===c?void 0:c.amount)}),Object(Ye.jsx)(pn.b.Item,{label:"Criado em",children:b()(null===c||void 0===c?void 0:c.createdAt).format("DD/MM/YYYY \\\xe0\\s HH:mm")}),Object(Ye.jsx)(pn.b.Item,{label:"Criado por",children:null===c||void 0===c?void 0:c.createdBy.name}),(null===c||void 0===c?void 0:c.createdAt)!==(null===c||void 0===c?void 0:c.updatedAt)&&Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(pn.b.Item,{label:"Atualizado em",children:b()(null===c||void 0===c?void 0:c.updatedAt).format("DD/MM/YYYY \\\xe0\\s HH:mm")}),Object(Ye.jsx)(pn.b.Item,{label:"Atualizado por",children:null===c||void 0===c?void 0:c.updatedBy.name})]})]})}var Jn=Pt.a.Title,$n=Pt.a.Text;function Zn(e){var t=e.type,n=Vn(t),r=n.selected,c=n.removeEntries,s=n.query,i=wt()().xs,o=Object(a.useState)(void 0),l=Object(ut.a)(o,2),u=l[0],d=l[1],j=Object(a.useState)(void 0),p=Object(ut.a)(j,2),m=p[0],h=p[1],O=Object(a.useState)(!1),y=Object(ut.a)(O,2),w=y[0],E=y[1],k=Object(a.useState)(!1),C=Object(ut.a)(k,2),S=C[0],P=C[1],I=Object(a.useState)(!1),A=Object(ut.a)(I,2),D=A[0],Y=A[1],M=Object(a.useCallback)((function(){return E(!0)}),[]),F=Object(a.useCallback)((function(){return E(!1)}),[]),T=Object(a.useCallback)((function(){return P(!0)}),[]),N=Object(a.useCallback)((function(){return P(!1)}),[]),R=Object(a.useCallback)((function(){return Y(!0)}),[]),U=Object(a.useCallback)((function(){return Y(!1)}),[]);return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(Xn.a,{closeIcon:null,visible:w,onCancel:F,footer:null,title:"Gerenciar categorias",destroyOnClose:!0,children:Object(Ye.jsx)(Gn,{type:t})}),Object(Ye.jsx)(Xn.a,{closeIcon:null,visible:S,onCancel:function(){N(),d(void 0)},footer:null,title:"EXPENSE"===t?"Cadastrar despesa":"Cadastrar receita",destroyOnClose:!0,children:Object(Ye.jsx)(Kn,{type:t,editingEntry:u,onSuccess:function(){N(),f.a.success({message:"EXPENSE"===t?"Despesa cadastrada com sucesso":"Receita cadastrada com sucesso"})}})}),Object(Ye.jsx)(Xn.a,{closeIcon:null,visible:D,onCancel:function(){U()},footer:null,title:"Detalhes da despesa",destroyOnClose:!0,children:m&&Object(Ye.jsx)(Qn,{entryId:m})}),Object(Ye.jsxs)(Ne.a,{justify:"space-between",style:{marginBottom:16,flexDirection:i?"column-reverse":"row"},children:[Object(Ye.jsx)(It.b,{style:Object(v.a)({},i&&{marginTop:16}),children:Object(Ye.jsx)(Cn,{popConfirmTitle:"Remover ".concat(r.length>1?"EXPENSE"===t?"despesas selecionadas?":"receitas selecionadas?":"EXPENSE"===t?"despesa selecionada?":"receita selecionada?"),modalTitle:"EXPENSE"===t?"Remover despesas":"Remover receitas",modalContent:"EXPENSE"===t?"Remover uma ou mais despesas pode gerar impacto negativo no gr\xe1fico de receitas e despesas da empresa. Esta \xe9 uma a\xe7\xe3o irrevers\xedvel.":"Remover uma ou mais receitas pode gerar impacto negativo no gr\xe1fico de receitas e despesas da empresa. Esta \xe9 uma a\xe7\xe3o irrevers\xedvel.",onConfirm:Object(g.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(r);case 2:case"end":return e.stop()}}),e)}))),disabled:!r.length,children:Object(Ye.jsx)(jt.a,{danger:i,type:"primary",disabled:!r.length,children:"Remover"})})}),Object(Ye.jsxs)(It.b,{children:[Object(Ye.jsx)(jt.a,{type:"primary",icon:Object(Ye.jsx)(Bn.a,{}),onClick:M,children:"Categorias"}),Object(Ye.jsxs)(jt.a,{type:"primary",icon:Object(Ye.jsx)(ht.a,{}),onClick:T,children:["Adicionar ","EXPENSE"===t?"despesa":"receita"]})]})]}),Object(Ye.jsxs)(It.b,{direction:"vertical",children:[Object(Ye.jsxs)(Jn,{level:3,children:["Recuperando ","EXPENSE"===t?"despesas":"receitas"," do m\xeas de"," ",b()(s.yearMonth).format("MMMM \\d\\e YYYY")]}),Object(Ye.jsxs)(It.b,{children:[Object(Ye.jsxs)($n,{children:["\xc9 poss\xedvel filtrar ","EXPENSE"===t?"despesas":"receitas"," ","por m\xeas"]}),Object(Ye.jsx)(mn.a,{placement:"right",title:"Use a coluna Data para filtrar",children:Object(Ye.jsx)(Yn.a,{})})]})]}),Object(Ye.jsx)(Dt.a,{}),Object(Ye.jsx)(qn,{type:t,onEdit:function(e){d(e),T()},onDetail:function(e){h(e),R()}})]})}function ea(){return De("Fluxo de caixa/Receitas"),Object(Ye.jsx)(Zn,{type:"REVENUE"})}function ta(){return De("Fluxo de caixa/Despesas"),Object(Ye.jsx)(Zn,{type:"EXPENSE"})}var na=n(630),aa=n(625);function ra(e){var t=e.split(""),n=t.slice(0,2).join(""),a=t.slice(2,7).join(""),r=t.slice(7,11).join("");return"(".concat(n,") ").concat(a,"-").concat(r)}function ca(){var e,t;Yt("Detalhes do usu\xe1rio");var n=Object(gt.i)(),r=Object(a.useState)(0),c=Object(ut.a)(r,2),s=c[0],o=c[1],l=wt()().lg,u=ln(),d=u.user,j=u.fetchUser,p=u.notFound,m=u.toggleUserStatus;De("Usu\xe1rios/".concat((null===d||void 0===d?void 0:d.name)||"Detalhes"));var h=function(){var e=Object(a.useState)(!1),t=Object(ut.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(ut.a)(c,2),i=s[0],o=s[1],l=Object(a.useState)(),u=Object(ut.a)(l,2),d=u[0],j=u[1];return{fetchUserPosts:Object(a.useCallback)(function(){var e=Object(g.a)(x.a.mark((function e(t){var n,a,c=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:0,r(!0),e.prev=2,e.next=5,y.PostService.getAllPosts({editorId:t,showAll:!0,page:n,size:10});case 5:a=e.sent,j(a);case 7:return e.prev=7,r(!1),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[2,,7,10]])})));return function(t){return e.apply(this,arguments)}}(),[]),posts:d,togglePostStatus:Object(a.useCallback)(function(){var e=Object(g.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o(!0),e.prev=1,!t.published){e.next=7;break}return e.next=5,y.PostService.deactivateExistingPost(t.id);case 5:e.next=9;break;case 7:return e.next=9,y.PostService.publishExistingPost(t.id);case 9:return e.prev=9,o(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[1,,9,12]])})));return function(t){return e.apply(this,arguments)}}(),[]),loadingFetch:n,loadingToggle:i}}(),f=h.fetchUserPosts,O=h.posts,v=h.togglePostStatus,w=h.loadingFetch,E=h.loadingToggle;return Object(a.useEffect)((function(){isNaN(Number(n.id))||j(Number(n.id))}),[j,n.id]),Object(a.useEffect)((function(){"EDITOR"===(null===d||void 0===d?void 0:d.role)&&f(d.id,s)}),[f,d,s]),isNaN(Number(n.id))?Object(Ye.jsx)(gt.a,{to:"/usuarios"}):p?Object(Ye.jsx)(ze.a,{children:Object(Ye.jsx)(dn,{title:"Usu\xe1rio n\xe3o encontrado",actionDestination:"/usuarios",actionTitle:"Voltar para lista de usu\xe1rios"})}):d?Object(Ye.jsxs)(Ne.a,{gutter:24,children:[Object(Ye.jsx)(At.a,{xs:24,lg:4,children:Object(Ye.jsx)(Ne.a,{justify:"center",children:Object(Ye.jsx)(Xe.a,{size:120,src:d.avatarUrls.small})})}),Object(Ye.jsx)(At.a,{xs:24,lg:20,children:Object(Ye.jsxs)(It.b,{style:{width:"100%"},direction:"vertical",align:l?"start":"center",children:[Object(Ye.jsx)(Pt.a.Title,{level:2,children:d.name}),Object(Ye.jsx)(Pt.a.Paragraph,{style:{textAlign:l?"left":"center"},ellipsis:{rows:2},children:d.bio}),Object(Ye.jsxs)(It.b,{children:[Object(Ye.jsx)(i.b,{to:"/usuarios/edicao/".concat(d.id),children:Object(Ye.jsx)(jt.a,{type:"primary",children:"Editar perfil"})}),Object(Ye.jsx)(En.a,{disabled:d.active&&!d.canBeDeactivated||!d.active&&!d.canBeActivated,title:d.active?"Desabilitar ".concat(d.name):"Habilitar ".concat(d.name),onConfirm:function(){Qe()({icon:Object(Ye.jsx)(un.a,{style:{color:"#09f"}}),title:"Tem certeza que deseja ".concat(d.active?"desabilitar ".concat(d.name,"?"):"habilitar ".concat(d.name,"?")),onOk:function(){m(d).then((function(){j(Number(n.id))}))},content:d.active?"Desabilitar um usu\xe1rio far\xe1 com que ele seja automaticamente desligado da plataforma, podendo causar preju\xedzos em seus ganhos.":"Habilitar um usu\xe1rio far\xe1 com que ele ganhe acesso a plataforma novamente, possibilitando cria\xe7\xe3o e publica\xe7\xe3o de posts."})},children:Object(Ye.jsx)(jt.a,{disabled:d.active&&!d.canBeDeactivated||!d.active&&!d.canBeActivated,type:"primary",children:d.active?"Desabilitar":"Habilitar"})})]})]})}),Object(Ye.jsx)(Dt.a,{}),!!(null===(e=d.skills)||void 0===e?void 0:e.length)&&Object(Ye.jsx)(At.a,{xs:24,lg:12,children:Object(Ye.jsx)(It.b,{direction:"vertical",style:{width:"100%"},children:null===(t=d.skills)||void 0===t?void 0:t.map((function(e){return Object(Ye.jsxs)("div",{children:[Object(Ye.jsx)(Pt.a.Text,{children:e.name}),Object(Ye.jsx)(aa.a,{percent:e.percentage,success:{percent:0}})]},e.name)}))})}),Object(Ye.jsx)(At.a,{xs:24,lg:12,children:Object(Ye.jsxs)(pn.b,{column:1,bordered:!0,size:"small",children:[Object(Ye.jsx)(pn.b.Item,{label:"Pa\xeds",children:d.location.country}),Object(Ye.jsx)(pn.b.Item,{label:"Estado",children:d.location.state}),Object(Ye.jsx)(pn.b.Item,{label:"Cidade",children:d.location.city}),Object(Ye.jsx)(pn.b.Item,{label:"Telefone",children:ra(d.phone)})]})}),"EDITOR"===d.role&&Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(Dt.a,{}),Object(Ye.jsx)(At.a,{xs:24,children:Object(Ye.jsx)(bn.a,{dataSource:null===O||void 0===O?void 0:O.content,rowKey:"id",loading:w,pagination:{onChange:function(e){return o(e-1)},total:null===O||void 0===O?void 0:O.totalElements,pageSize:10},columns:[{responsive:["xs"],title:"Posts",render:function(e){return Object(Ye.jsxs)(pn.b,{column:1,children:[Object(Ye.jsx)(pn.b.Item,{label:"T\xedtulo",children:e.title}),Object(Ye.jsx)(pn.b.Item,{label:"Cria\xe7\xe3o",children:b()(e.createdAt).format("DD/MM/YYYY")}),Object(Ye.jsx)(pn.b.Item,{label:"Atualiza\xe7\xe3o",children:b()(e.updatedAt).format("DD/MM/YYYY")}),Object(Ye.jsx)(pn.b.Item,{label:"Publicado",children:Object(Ye.jsx)(hn.a,{checked:e.published})})]})}},{dataIndex:"title",title:"T\xedtulo",ellipsis:!0,width:300,responsive:["sm"],render:function(e){return Object(Ye.jsx)(mn.a,{title:e,children:e})}},{dataIndex:"createdAt",title:"Cria\xe7\xe3o",width:180,align:"center",responsive:["sm"],render:function(e){return b()(e).format("DD/MM/YYYY")}},{dataIndex:"updatedAt",title:"\xdaltima atualiza\xe7\xe3o",width:200,align:"center",responsive:["sm"],render:function(e){return b()(e).format("DD/MM/YYYY \\\xe0\\s hh:mm")}},{dataIndex:"published",title:"Publicado",align:"center",width:120,responsive:["sm"],render:function(e,t){return Object(Ye.jsx)(hn.a,{checked:e,loading:E,onChange:function(){v(t).then((function(){f(d.id)}))}})}}]})})]})]}):Object(Ye.jsx)(on.a,{})}var sa=n(996);function ia(e){var t;return e.loading?Object(Ye.jsx)(on.a,{}):Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(Pt.a.Title,{level:2,children:"B\xf4nus"}),Object(Ye.jsx)(pn.b,{bordered:!0,size:"small",column:1,children:null===(t=e.bonuses)||void 0===t?void 0:t.map((function(e,t){return Object(Ye.jsx)(pn.b.Item,{label:e.title,children:e.amount.toLocaleString("pt-br",{style:"currency",currency:"BRL",maximumFractionDigits:2})},t)}))})]})}function oa(e){var t,n,a=wt()().xs;return e.loading?Object(Ye.jsx)(on.a,{}):Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(Pt.a.Title,{children:"Pagamento"}),Object(Ye.jsx)(Pt.a.Text,{children:"A base do pagamento \xe9 calculada pela quantidade de palavras escritas"}),Object(Ye.jsx)(Dt.a,{}),Object(Ye.jsxs)(pn.b,{column:a?1:2,size:a?"small":"default",children:[Object(Ye.jsx)(pn.b.Item,{label:"Editor",children:e.editorName}),Object(Ye.jsx)(pn.b.Item,{label:"Per\xedodo",children:Object(Ye.jsxs)(It.b,{size:8,children:[Object(Ye.jsx)(Be.a,{style:{margin:0},children:e.periodStart}),Object(Ye.jsx)("span",{children:"\xe0"}),Object(Ye.jsx)(Be.a,{children:e.periodEnd})]})}),Object(Ye.jsx)(pn.b.Item,{label:"Ganhos por posts",children:Object(Ye.jsx)(Be.a,{children:null===(t=e.postsEarnings)||void 0===t?void 0:t.toLocaleString("pt-br",{style:"currency",currency:"BRL",maximumFractionDigits:2})})}),Object(Ye.jsx)(pn.b.Item,{label:"Total",children:Object(Ye.jsx)(Be.a,{children:null===(n=e.totalEarnings)||void 0===n?void 0:n.toLocaleString("pt-br",{style:"currency",currency:"BRL",maximumFractionDigits:2})})})]})]})}function la(e){return Object(Ye.jsx)(Ye.Fragment,{children:Object(Ye.jsx)(bn.a,{loading:e.loading,dataSource:e.posts,pagination:!1,rowKey:"id",columns:[{responsive:["xs"],title:"Posts",render:function(e){return Object(Ye.jsxs)(pn.b,{column:1,children:[Object(Ye.jsx)(pn.b.Item,{label:"T\xedtulo",children:e.title}),Object(Ye.jsx)(pn.b.Item,{label:"Pre\xe7o por palavra",children:e.earnings.pricePerWord.toLocaleString("pt-br",{style:"currency",currency:"BRL",maximumFractionDigits:2})}),Object(Ye.jsx)(pn.b.Item,{label:"Palavras no post",children:e.earnings.words}),Object(Ye.jsx)(pn.b.Item,{label:"Ganho no post",children:e.earnings.totalAmount.toLocaleString("pt-br",{style:"currency",currency:"BRL",maximumFractionDigits:2})})]})}},{dataIndex:"title",title:"Post",ellipsis:!0,width:300,responsive:["sm"],render:function(e){return Object(Ye.jsx)(mn.a,{title:e,children:e})}},{dataIndex:"earnings.pricePerWord".split("."),title:"Pre\xe7o por palavra",align:"right",width:150,responsive:["sm"],render:function(e){return e.toLocaleString("pt-br",{style:"currency",currency:"BRL",maximumFractionDigits:2})}},{dataIndex:"earnings.words".split("."),title:"Palavras no post",width:150,align:"right",responsive:["sm"]},{dataIndex:"earnings.totalAmount".split("."),title:"Total ganho neste post",align:"right",responsive:["sm"],width:170}]})})}function ua(){Yt("Detalhes do pagamento"),De("Pagamento/Detalhes");var e=Object(gt.i)(),t=Object(gt.g)(),n=Mn(),r=n.fetchPayment,c=n.fetchPosts,s=n.fetchingPayment,i=n.fetchingPosts,o=n.paymentNotFound,l=n.approvingPayment,u=n.approvePayment,d=n.payment,j=n.posts;return Object(a.useEffect)((function(){var n=Number(e.id);if(isNaN(n))return t.push("/pagamentos");c(n),r(n)}),[c,r,e.id,t]),o?Object(Ye.jsx)(dn,{title:"Pagamento n\xe3o encontrado",actionDestination:"/pagamentos",actionTitle:"Ir para a lista de pagamentos"}):Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsxs)(It.b,{style:{marginBottom:16},children:[Object(Ye.jsx)(jt.a,{className:"no-print",disabled:!d,type:"primary",icon:Object(Ye.jsx)(sa.a,{}),onClick:window.print,children:"Imprimir"}),(null===d||void 0===d?void 0:d.approvedAt)?Object(Ye.jsxs)(Be.a,{children:["Pagamento aprovado em"," ",b()(d.approvedAt).format("DD/MM/YYYY")]}):Object(Ye.jsx)(Cn,{popConfirmTitle:"Deseja aprovar este agendamento?",modalTitle:"A\xe7\xe3o irrevers\xedvel",disabled:!d||!d.canBeApproved,modalContent:"Aprovar um agendamento de pagamento gera uma despesa que n\xe3o pode ser removida do fluxo de caixa. Essa a\xe7\xe3o n\xe3o poder\xe1 ser desfeita.",onConfirm:Object(g.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=5;break}return e.next=3,u(d.id);case 3:r(d.id),f.a.success({message:"Pagamento aprovado com sucesso"});case 5:case"end":return e.stop()}}),e)}))),children:Object(Ye.jsx)(jt.a,{loading:l,disabled:!d||!d.canBeApproved,icon:Object(Ye.jsx)(_n.a,{}),type:"primary",danger:!0,children:"Aprovar agendamento"})})]}),Object(Ye.jsxs)(ze.a,{children:[Object(Ye.jsx)(oa,{loading:s,editorId:null===d||void 0===d?void 0:d.payee.id,editorName:null===d||void 0===d?void 0:d.payee.name,periodStart:b()(null===d||void 0===d?void 0:d.accountingPeriod.startsOn).format("DD/MM/YYYY"),periodEnd:b()(null===d||void 0===d?void 0:d.accountingPeriod.endsOn).format("DD/MM/YYYY"),postsEarnings:null===d||void 0===d?void 0:d.earnings.totalAmount,totalEarnings:null===d||void 0===d?void 0:d.grandTotalAmount}),Object(Ye.jsx)(Dt.a,{}),Object(Ye.jsx)(ia,{loading:s,bonuses:null===d||void 0===d?void 0:d.bonuses}),Object(Ye.jsx)(Dt.a,{}),Object(Ye.jsx)(la,{loading:i,posts:j})]})]})}var da=n(426),ja=n(617);function ba(){return Object(Ye.jsx)(ze.a,{style:{position:"fixed",top:0,left:0,width:"100%",height:"100vh",zIndex:100,display:"flex",justifyContent:"center",alignItems:"center"},children:Object(Ye.jsx)(ja.a,{})})}var pa="http://localhost:3000";function ma(){var e=Object(gt.g)(),t=Object(gt.h)(),n=He(),r=n.fetchUser,c=n.user;return Object(a.useEffect)((function(){return window.onunhandledrejection=function(e){var t,n,a,r,c,s=e.reason;s instanceof tn.a?(null===(t=s.data)||void 0===t?void 0:t.objects)?s.data.objects.forEach((function(e){na.b.error(e.userMessage)})):f.a.error({message:s.message,description:"Network Error"===(null===(n=s.data)||void 0===n?void 0:n.detail)?"Erro na rede":null===(a=s.data)||void 0===a?void 0:a.detail}):(null===s||void 0===s||null===(r=s.data)||void 0===r||null===(c=r.objects)||void 0===c||c.forEach((function(e){na.b.error(e.userMessage)})),f.a.error({message:(null===s||void 0===s?void 0:s.message)||"Houve um erro"}))},function(){window.onunhandledrejection=null}}),[]),Object(a.useEffect)((function(){function t(){return(t=Object(g.a)(x.a.mark((function t(){var n,a,c,s,i,o,l,u,d;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n="/authorize"===window.location.pathname,a=new URLSearchParams(window.location.search).get("code"),c=it.getCodeVerifier(),(s=it.getAccessToken())||n||it.imperativelySendToLoginScreen(),!n){t.next=23;break}if(a){t.next=10;break}return f.a.error({message:"C\xf3digo n\xe3o foi informado"}),it.imperativelySendToLoginScreen(),t.abrupt("return");case 10:if(c){t.next=13;break}return it.imperativelySendToLogout(),t.abrupt("return");case 13:return t.next=15,it.getFirstAccessTokens({code:a,codeVerifier:c,redirectUri:"".concat(pa,"/authorize")});case 15:i=t.sent,o=i.access_token,l=i.refresh_token,it.setAccessToken(o),it.setRefreshToken(l),u=Object(da.a)(o),r(u["alganews:user_id"]),e.push("/");case 23:s&&(d=Object(da.a)(s),r(d["alganews:user_id"]));case 24:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e,r]),Object(a.useMemo)((function(){return"/authorize"===t.pathname}),[t.pathname])||!c?Object(Ye.jsx)(ba,{}):Object(Ye.jsxs)(gt.d,{children:[Object(Ye.jsx)(gt.b,{path:"/",exact:!0,component:Wt}),Object(Ye.jsx)(gt.b,{path:"/usuarios/cadastro",exact:!0,component:sn}),Object(Ye.jsx)(gt.b,{path:"/usuarios/edicao/:id",exact:!0,component:jn}),Object(Ye.jsx)(gt.b,{path:"/usuarios/:id",exact:!0,component:ca}),Object(Ye.jsx)(gt.b,{path:"/usuarios",exact:!0,component:wn}),Object(Ye.jsx)(gt.b,{path:"/pagamentos",exact:!0,component:Sn}),Object(Ye.jsx)(gt.b,{path:"/pagamentos/cadastro",exact:!0,component:zn}),Object(Ye.jsx)(gt.b,{path:"/pagamentos/:id",exact:!0,component:ua}),Object(Ye.jsx)(gt.b,{path:"/fluxo-de-caixa/despesas",exact:!0,component:ta}),Object(Ye.jsx)(gt.b,{path:"/fluxo-de-caixa/receitas",exact:!0,component:ea})]})}var ha=n(146),fa=n.n(ha),Oa="http://localhost:8080";fa.a.setBaseUrl(Oa),fa.a.setRequestInterceptors(function(){var e=Object(g.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=it.getAccessToken())&&(t.headers.Authorization="Bearer ".concat(n)),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),fa.a.setResponseInterceptors((function(e){return e}),function(){var e=Object(g.a)(x.a.mark((function e(t){var n,a,r,c,s,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.config,401!==(null===t||void 0===t||null===(n=t.response)||void 0===n?void 0:n.status)||a._retry){e.next=15;break}if(a._retry=!0,r={codeVerifier:it.getCodeVerifier(),refreshToken:it.getRefreshToken()},c=r.codeVerifier,(s=r.refreshToken)&&c){e.next=8;break}return it.imperativelySendToLogout(),e.abrupt("return");case 8:return e.next=10,it.getNewToken({codeVerifier:c,refreshToken:s});case 10:return i=e.sent,it.setAccessToken(i.access_token),it.setRefreshToken(i.refresh_token),a.headers.Authorization="Bearer ".concat(i.access_token),e.abrupt("return",et()(a));case 15:throw t;case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());n(952);b.a.locale("pt-br"),s.a.render(Object(Ye.jsx)(r.a.StrictMode,{children:Object(Ye.jsx)(l.b,{locale:d.a,children:Object(Ye.jsx)(o.a,{store:Pe,children:Object(Ye.jsx)(i.a,{children:Object(Ye.jsx)(St,{children:Object(Ye.jsx)(ma,{})})})})})}),document.getElementById("root")),p()}},[[956,1,2]]]);
//# sourceMappingURL=main.77fc0391.chunk.js.map